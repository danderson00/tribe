!function(t){if("undefined"==typeof $)throw"jQuery must be loaded before knockout.composite can initialise";if("undefined"==typeof ko)throw"knockout.js must be loaded before knockout.composite can initialise";t.T=T||{},t.T.Events={},t.T.Factories={},t.T.LoadHandlers={},t.T.LoadStrategies={},t.T.Transitions={},t.T.Types={},t.T.Utils={},$(function(){$("head").append('<style class="__tribe">.__rendering { position: fixed; top: -10000px; left: -10000px; }</style>')})}(window||this),T.defaultOptions=function(){return{synchronous:!1,handleExceptions:!0,basePath:"",loadStrategy:"adhoc",events:["loadResources","createPubSub","createModel","initialiseModel","renderPane","renderComplete","active","dispose"]}},T.options=T.defaultOptions();var level=4,levels={debug:4,info:3,warn:2,error:1,none:0};T.logger={setLevel:function(t){level=levels[t],void 0===level&&(level=4)},debug:function(t){level>=4&&console.log("DEBUG: "+t)},info:function(t){level>=3&&console.info("INFO: "+t)},warn:function(t){level>=2&&console.warn("WARN: "+t)},error:function(t,e){level>=1&&console.error("ERROR: "+t+"\n",api.errorDetails(e))},errorDetails:function(t){return t?t.constructor===String?t:(t.stack||"")+(t.inner?"\n\n"+this.errorDetails(t.inner):"\n"):""},log:function(t){console.log(t)}},function(){function t(t){return{init:function(e,n){function r(e){e.which===t&&o(i.val())}var i=$(e),o=n();$.isFunction(o)&&i.keyup(r)}}}ko.bindingHandlers.cssClass={update:function(t,e){var n=e();n&&$(t).addClass(ko.utils.unwrapObservable(n))}},ko.bindingHandlers.enterPressed=t(13),ko.bindingHandlers.escapePressed=t(27)}(),function(t){t.each=function(t,e){return $.each(t||[],function(t,n){return e(n,t)})},t.map=function(e,n){var r=[];return t.each(e||[],function(t,e){r.push(n(t,e))}),r},t.filter=function(t,e){var n=[];return $.each(t||[],function(t,r){e(r,t)&&n.push(r)}),n},t.pluck=function(e,n){return t.map(e,function(t){return t&&t[n]})},t.reduce=function(e,n,r){return t.each(e,function(t,i){n=r(n,t,i,e)}),n}}(T.Utils),T.Utils.deparam=function(t,e){var n=decodeURIComponent,r={},i={"true":!0,"false":!1,"null":null};return $.each(t.replace(/\+/g," ").split("&"),function(t,o){var a,s=o.split("="),u=n(s[0]),c=r,l=0,d=u.split("]["),p=d.length-1;if(/\[/.test(d[0])&&/\]$/.test(d[p])?(d[p]=d[p].replace(/\]$/,""),d=d.shift().split("[").concat(d),p=d.length-1):p=0,2===s.length)if(a=n(s[1]),e&&(a=a&&!isNaN(a)?+a:"undefined"===a?void 0:void 0!==i[a]?i[a]:a),p)for(;p>=l;l++)u=""===d[l]?c.length:d[l],c=c[u]=p>l?c[u]||(d[l+1]&&isNaN(d[l+1])?{}:[]):a;else $.isArray(r[u])?r[u].push(a):r[u]=void 0!==r[u]?[r[u],a]:a;else u&&(r[u]=e?void 0:"")}),r},function(){function t(t,e,n){if(!t)throw"Can't embed property in falsy value";t["__"+e]=n}function e(t,e){return t&&t["__"+e]}T.Utils.embedState=function(e,n,r){t(e,"context",n),t(e,"node",r)},T.Utils.contextFor=function(t){return t&&T.Utils.extractContext(ko.contextFor($(t)[0]))},T.Utils.extractContext=function(t){return t&&e(t.$root,"context")},T.Utils.extractNode=function(t){return t&&e(t.$root,"node")}}(),function(){T.Utils.elementDestroyed=function(t){function e(e){e.target===t&&n()}function n(){$(t).off("destroyed",n),$(document).off("DOMNodeRemoved",e),r.resolve()}t.constructor===jQuery&&(t=t[0]);var r=$.Deferred();return $(t).on("destroyed",n),$(document).on("DOMNodeRemoved",e),r},T.Utils.raiseDocumentEvent=function(t,e){var n=$.Event(t);n.eventData=e,$(document).trigger(n)};var t={};T.Utils.handleDocumentEvent=function(e,n){function r(t){n(t.originalEvent||t)}$(document).on(e,r),t[n]=r},T.Utils.detachDocumentEvent=function(e,n){$(document).off(e,t[n]),delete t[n]}}(),T.Utils.tryCatch=function(t,e,n,r){if(n)try{t.apply(this,e||[])}catch(i){T.logger.error(r,i)}else t.apply(this,e||[])},function(){T.Utils.idGenerator=function(){return{next:function(){var t=0;return function(){return 0==arguments[0]?(t=1,0):t++}}()}};var t=T.Utils.idGenerator();T.Utils.getUniqueId=function(){return t.next()}}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e,n,r=Object(this),i=r.length>>>0;if(0===i)return-1;if(e=0,arguments.length>1&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&1/0!=e&&e!=-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e)))),e>=i)return-1;for(n=e>=0?e:Math.max(i-Math.abs(e),0);i>n;n++)if(n in r&&r[n]===t)return n;return-1}),function(t){t.complete=function(e){function n(e,n){r.push(t.Deferred(function(e){t.when(n).done(function(){o=!0}).always(function(){e.resolve()})}))}var r=[],i=t.Deferred(),o=!1;return t.isArray(e)?t.each(e,n):n(0,e),t.when.apply(t,r).done(function(){o?i.resolve():i.reject()}),i}}(jQuery),function(){var t=$.cleanData;$.cleanData=function(e){for(var n,r=0;void 0!==(n=e[r]);r++)$(n).triggerHandler("destroyed");t(e)}}(),T.Utils.cleanElement=function(t){var e=$.cleanData;$.cleanData=void 0,ko.cleanNode(t),$.cleanData=e},T.Utils.arguments=function(t){var e={};return $.each(t,function(t,n){e[n.constructor]=n}),{byConstructor:function(t){return e(t)},object:e[Object],string:e[String],func:e[Function],array:e[Array],number:e[Number]}},T.Utils.removeItem=function(t,e){var n=$.inArray(e,t);n>-1&&t.splice(n,1)},T.Utils.inheritOptions=function(t,e,n){for(var r=0,i=n.length;i>r;r++)e[n[r]]=t[n[r]];return e},T.Utils.cloneData=function(t,e){if(t){var n={};for(var r in t){var i=t[r];!t.hasOwnProperty(r)||e&&-1!==Array.prototype.indexOf.call(arguments,r)||i&&i.constructor===Function&&!ko.isObservable(i)||(n[r]=ko.utils.unwrapObservable(i))}return n}},T.Utils.normaliseBindings=function(t,e){var n=e();return n.value=t(),!ko.isObservable(n.value)&&$.isFunction(n.value)&&(n.value=n.value()),n},function(){var t=T.Utils;t.getPaneOptions=function(t,e){var n=t.constructor===String?{path:t}:t;return $.extend({},e,n)},t.bindPane=function(e,n,r,i){i=i||t.contextFor(n)||T.context();var o=new T.Types.Pane($.extend({element:$(n)[0]},r));e.setPane(o),i.renderOperation.add(o);var a=new T.Types.Pipeline(T.Events,i);return a.execute(i.options.events,o),o},t.insertPaneAfter=function(e,n,r,i){var o=$("<div/>").insertAfter(n);return t.bindPane(e,o,r,i)}}(),function(){function t(e){function n(t){return t=r(t),t=i(t),t=o(t)}function r(t){var e=t.indexOf("://")>-1?t.indexOf("://")+3:0,n=t.substring(0,e),r=t.substring(e);return n+r.replace(/\/{2,}/g,"/")}function i(t){for(var e=/[^\/\.]+\/\.\.\//;t.match(e);)t=t.replace(e,"");return t}function o(t){var e=/\.\//g,n=t.lastIndexOf("../");return n=-1==n?0:n+3,t.substring(0,n)+t.substring(n).replace(e,"")}e=e?n(e.toString()):"";var a=e.lastIndexOf("/")+1,s=e.lastIndexOf(".");return{withoutFilename:function(){return t(e.substring(0,a))},filename:function(){return t(e.substring(a))},extension:function(){return-1===s?"":e.substring(s+1)},withoutExtension:function(){return t(-1===s?e:e.substring(0,s))},combine:function(n){return t((e?e+"/":"")+n.toString())},isAbsolute:function(){return"/"===e.charAt(0)||e.indexOf("://")>-1},makeAbsolute:function(){return t("/"+e)},makeRelative:function(){return t("/"===e.charAt(0)?e.substring(1):e)},asMarkupIdentifier:function(){return this.withoutExtension().toString().replace(/\//g,"-").replace(/\./g,"")},setExtension:function(e){return t(this.withoutExtension()+"."+e)},toString:function(){return e.toString()}}}T.Path=t}(),function(){function t(t){return decodeURIComponent(t.replace(/\+/g," "))}function e(e){return function n(r,i){var o,a,s,u,c;return 2===arguments.length?(r=r.split(e),n(t(r.shift()),t(r.join(e)),!0)):(r=r.replace(/^\s+|\s+$/g,""),i.constructor===String&&(i=i.replace(/^\s+|\s+$/g,""),isNaN(i)||(a=+i,i===a.toString(10)&&(i=a))),(o=/(.*)\[([^\]]*)\]$/.exec(r))?(u=o[2],s=o[1],u?(c={},c[u]=i,n(s,c,!0)):n(s,[i],!0)):(c={},r&&(c[r]=i),c))}}function n(t,e){return t?$.isArray(t)?t.concat(e):$.isPlainObject(t)&&$.isPlainObject(e)?r(t,e):[t].concat(e):e}function r(t,e){for(var r in e)r&&e.hasOwnProperty(r)&&(t[r]=n(t[r],e[r]));return t}T.Utils.Querystring=T.Utils.Querystring||{},T.Utils.Querystring.parse=function(t,r,i){function o(){t.length>0&&"?"===t.charAt(0)&&(t=t.substring(1))}return o(),T.Utils.reduce(T.Utils.map(t.split(r||"&"),e(i||"=")),{},n)}}(),function(){function t(n,r,i,o){r=r||{},o=o||[];var a,s,u,c,l,d,p=r.seperator||"&",f=r.eqSymbol||"=",h=r.arrayKey!==!1;if(null===n||void 0===n||n.constructor===Function)return i?e(i)+f:"";if((n.constructor===Boolean||"[object Boolean]"===Object.prototype.toString.call(n))&&(n=+n),!isNaN(n)||n.constructor===String)return e(i)+f+e(n);if($.isArray(n)){for(d=[],i=h?i+"[]":i,u=0,c=n.length;c>u;u++)d.push(t(n[u],r,i,o));return d.join(p)}for(u=o.length-1;u>=0;--u)if(o[u]===n)throw new Error("T.Utils.Querystring.stringify: cyclical reference");o.push(n),d=[],a=i?i+"[":"",s=i?"]":"";for(u in n)n.hasOwnProperty(u)&&(l=a+u+s,d.push(t(n[u],r,l,o)));return o.pop(),d=d.join(p),!d&&i?i+"=":d}T.Utils.Querystring=T.Utils.Querystring||{};var e=encodeURIComponent;T.Utils.Querystring.stringify=function(e,n){return t(e,n)}}(),function(){function t(t,e){return e.constructor===Function&&(e=new e(t)),e}T.Types.Flow=function(e,n){function r(){if(e.constructor===T.Types.Node)return e.findNavigation().node;if(e.constructor===T.Types.Pane)return e.node.findNavigation().node;throw new Error("navigationSource must be either T.Types.Pane or T.Types.Node")}var i=this;this.node=r(),this.pubsub=this.node.pane.pubsub.owner,this.sagas=[],n=t(i,n),this.saga=new Tribe.PubSub.Saga(this.pubsub,n),this.start=function(t){return i.saga.start(t),i},this.end=function(t){return i.saga.end(t),T.Utils.each(i.sagas,function(e){e.end(t)}),i}},T.Types.Flow.prototype.startChild=function(e,n){return e=t(this,e),this.saga.startChild(e,n),this},T.Types.Flow.prototype.navigate=function(t,e){this.node.navigate(t,e)},T.Types.Flow.prototype.startSaga=function(t,e){var n=this.pubsub.startSaga(t,e);return this.sagas.push(n),n},T.Types.Flow.prototype.to=function(t,e){var n=this.node;return function(){n.navigate(t,e)}},T.Types.Flow.prototype.endsAt=function(t,e){var n=this;return function(){n.node.navigate(t,e),n.end()}},T.Types.Flow.prototype.start=function(t,e){var n=this;return function(){n.startChild(t,e)}},T.Types.Flow.startFlow=function(t,e){return new T.Types.Flow(this,t).start(e)}}(),T.Types.History=function(t){function e(t){null!==t.state&&i(t)}var n=0;t.replaceState(n,window.title);var r={raiseEvent:function(t){T.Utils.raiseDocumentEvent("browser.go",{count:t.state-n}),n=t.state},updateStack:function(t){n=t.state,i=r.raiseEvent}},i=r.raiseEvent;window.addEventListener&&window.addEventListener("popstate",e),this.navigate=function(e){e=e||{},t.pushState(++n,e.title,e.url)},this.go=function(e){t.go(e)},this.update=function(e){i=r.updateStack,t.go(e)},this.dispose=function(){window.removeEventListener("popstate",e)}},T.history=window.history.pushState?new T.Types.History(window.history):new T.Types.History({replaceState:function(){},pushState:function(){},go:function(){}}),T.Types.Loader=function(){var t={};this.get=function(e,n,r){if(void 0!==t[e])return t[e];var i=T.Path(e).extension().toString(),o=T.LoadHandlers[i];if(o){var a=o(e,n,r);return t[e]=a,$.when(a).always(function(){t[e]=null}),a}return T.logger.warn("Resource of type "+i+" but no handler registered."),null}},T.Types.Navigation=function(t,e){function n(t){r(t.eventData.count)}function r(t){var e=l+t;0>e&&(e=0),e>=c.length&&(e=c.length-1),e!=l&&i(c[e],0>t),l=e}function i(n,r){T.Utils.raiseDocumentEvent("navigating",{node:t,options:n,browserData:e.browserData}),t.transitionTo(n,e.transition,r)}function o(){c.splice(l+1,c.length)}function a(){e=e||{},e.constructor===String&&(e={transition:e}),e.browser===!0&&(e.browser=T.options.defaultUrlProvider)}function s(){var n=window.location.href.match(/\#.*/);n&&(n=n[0].substring(1));var r=e.browser&&e.browser.paneOptionsFrom(n);r&&(t.pane.path=r.path,t.pane.data=r.data)}function u(){return{path:t.pane.path,data:t.pane.data}}a(),s();var c=[u()],l=0;this.node=t,this.stack=c,this.navigate=function(t){e.browser&&T.history.navigate(e.browser&&e.browser.urlDataFrom(t)),o(),c.push(t),l++,i(t)},this.isAtStart=function(){return 0===l},this.go=function(t){r(t),e.browser&&T.history.update(t)},e.browser&&T.Utils.handleDocumentEvent("browser.go",n),this.dispose=function(){T.Utils.detachDocumentEvent("browser.go",n)}},T.Types.Node=function(t,e){this.parent=t,this.children=[],this.root=t?t.root:this,this.id=T.Utils.getUniqueId(),t&&t.children.push(this),e&&this.setPane(e)},T.Types.Node.prototype.navigate=function(t,e){var n=T.Utils.getPaneOptions(t,{data:e});T.Path(n.path).isAbsolute()||(n.path=T.Path(this.nodeForPath().pane.path).withoutFilename().combine(n.path).toString()),this.findNavigation().navigate(n)},T.Types.Node.prototype.navigateBack=function(){this.findNavigation().go(-1)},T.Types.Node.prototype.findNavigation=function(){return this.defaultNavigation?this.defaultNavigation:this.navigation?this.navigation:this.parent?this.parent.findNavigation():(this.navigation=new T.Types.Navigation(this),this.navigation)},T.Types.Node.prototype.transitionTo=function(t,e,n){T.transition(this,e,n).to(t)},T.Types.Node.prototype.setPane=function(t){this.pane&&(this.pane.node=null),t.node=this,this.pane=t,this.skipPath=t.skipPath,t.handlesNavigation&&(this.navigation=new T.Types.Navigation(this,t.handlesNavigation),this.root.defaultNavigation=this.root.defaultNavigation||this.navigation),t.inheritPathFrom(this.parent)},T.Types.Node.prototype.nodeForPath=function(){return this.skipPath&&this.parent?this.parent.nodeForPath():this},T.Types.Node.prototype.dispose=function(){this.root.defaultNavigation===this.navigation&&(this.root.defaultNavigation=null),this.parent&&T.Utils.removeItem(this.parent.children,this),this.pane&&this.pane.dispose&&(delete this.pane.node,this.pane.dispose())},T.Types.Node.prototype.startFlow=T.Types.Flow.startFlow,T.Types.Operation=function(){var t=this,e=[];this.promise=$.Deferred(),this.add=function(t){e.push(t)},this.complete=function(n){T.Utils.removeItem(e,n),0===e.length&&t.promise.resolve()}},T.Types.Pane=function(t){T.Utils.inheritOptions(t,this,["path","data","element","transition","reverseTransitionIn","handlesNavigation","pubsub","id","skipPath"]),this.is={rendered:$.Deferred(),disposed:$.Deferred()}},T.Types.Pane.prototype.navigate=function(t,e){this.node&&this.node.navigate(t,e)},T.Types.Pane.prototype.navigateBack=function(){this.node&&this.node.navigateBack()},T.Types.Pane.prototype.remove=function(){$(this.element).remove()},T.Types.Pane.prototype.dispose=function(){this.model&&this.model.dispose&&this.model.dispose(),this.node&&(delete this.node.pane,this.node.dispose()),this.element&&T.Utils.cleanElement(this.element)},T.Types.Pane.prototype.inheritPathFrom=function(t){t=t&&t.nodeForPath();var e=t&&t.pane,n=T.Path(this.path);this.path=n.isAbsolute()||!e?n.makeAbsolute().toString():T.Path(e.path).withoutFilename().combine(n).toString()},T.Types.Pane.prototype.find=function(t){return $(this.element).find(t)},T.Types.Pane.prototype.startRender=function(){$(this.element).addClass("__rendering")},T.Types.Pane.prototype.endRender=function(){$(this.element).removeClass("__rendering")},T.Types.Pane.prototype.toString=function(){return"{ path: '"+this.path+"' }"},T.Types.Pane.prototype.startSaga=function(t){var e=T.context().sagas[t];this.pubsub.startSaga.apply(this.pubsub,[e.constructor].concat(Array.prototype.slice.call(arguments,1)))},T.Types.Pane.prototype.startFlow=T.Types.Flow.startFlow,T.Types.Pipeline=function(t,e){this.execute=function(n,r){function i(){function s(){a.reject();var t=r?r.toString():"empty target";T.logger.error("An error occurred in the '"+u+"' event for "+t)}if(o++,o>=n.length)return a.resolve(),void 0;var u=n[o],c=t[u];return c?($.when(c(r,e)).done(i).fail(s),void 0):(T.logger.warn("No event defined for "+u),i(),void 0)}var o=-1,a=$.Deferred();return i(),a}},T.Types.Resources=function(){},T.Types.Resources.prototype.register=function(t,e,n){this[t]={constructor:e,options:n||{}},T.logger.debug("Model loaded for "+t)},T.Types.Templates=function(){function t(t,e){var n=document.createElement("script");n.className="__tribe",n.setAttribute("type","text/template"),n.id=e,n.text=t,document.getElementsByTagName("head")[0].appendChild(n)}this.store=function(e,n){var r=T.Path(n).asMarkupIdentifier().toString();t(e,"template-"+r)},this.loaded=function(t){return $("head script#template-"+T.Path(t).asMarkupIdentifier()).length>0},this.render=function(t,e){var n=T.Path(e).asMarkupIdentifier();$(t).empty().append($("head script#template-"+n).html())}},T.Events.active=function(t){return T.Utils.elementDestroyed(t.element)},T.Events.createModel=function(t,e){var n=e.models[t.path],r=n&&n.constructor?new n.constructor(t):{pane:t,data:t.data};T.Utils.embedState(r,e,t.node),t.model=r},T.Events.createPubSub=function(t,e){e.pubsub&&(t.pubsub=e.pubsub.createLifetime?e.pubsub.createLifetime():e.pubsub)},T.Events.dispose=function(t){t.pubsub&&t.pubsub.end&&t.pubsub.end(),t.dispose(),t.is.disposed.resolve()},T.Events.initialiseModel=function(t){return t.model.initialise?t.model.initialise():null},T.Events.loadResources=function(t,e){var n=T.LoadStrategies[e.options.loadStrategy];if(!n)throw"Unknown resource load strategy";return n(t,e)},T.Events.renderComplete=function(t,e){function n(){t.model.renderComplete&&t.model.renderComplete(),t.is.rendered.resolve(),T.Utils.raiseDocumentEvent("renderComplete",t),e.renderOperation=new T.Types.Operation}$.when(T.transition(t,t.transition,t.reverseTransitionIn)["in"]()).done(n),t.endRender()},T.Events.renderPane=function(t,e){function n(){ko.applyBindingsToDescendants(t.model,t.element)}var r=e.renderOperation;return t.startRender(),e.templates.render(t.element,t.path),T.Utils.tryCatch(n,null,e.options.handleExceptions,"An error occurred applying the bindings for "+t.toString()),t.model.paneRendered&&t.model.paneRendered(),r.complete(t),r.promise},T.LoadHandlers.js=function(t,e,n){function r(r){T.scriptEnvironment={url:t,resourcePath:e,context:n},T.Utils.tryCatch($.globalEval,[i(r)],n.options.handleExceptions,"An error occurred executing script loaded from "+t+(e?" for resource "+e:"")),delete T.scriptEnvironment,T.logger.debug("Loaded script from "+t)}function i(e){return e+"\n//@ sourceURL=tribe://Application/"+t.replace(/ /g,"_")}return $.ajax({url:t,dataType:"text",async:!n.options.synchronous,cache:!1,success:r})},T.LoadHandlers.css=function(t,e,n){function r(t){var n=document.getElementById("__tribeStyles");if(n||(n=document.createElement("style"),n.className="__tribe",n.id="__tribeStyles",document.getElementsByTagName("head")[0].appendChild(n)),i)try{n.appendChild(document.createTextNode(t))}catch(r){i=!1}if(!i){if(!n.styleSheet)throw new Error("Unable to append stylesheet for "+e+" to document.");n.styleSheet.cssText+=t}}var i=!0;return $.ajax({url:t,dataType:"text",async:!n.options.synchronous,cache:!1,success:r})},T.LoadHandlers.htm=function(t,e,n){function r(t){n.templates.store(t,e)}return $.ajax({url:t,dataType:"html",async:!n.options.synchronous,cache:!1,success:r})},T.LoadHandlers.html=T.LoadHandlers.htm,T.LoadStrategies.adhoc=function(t,e){if(void 0!==e.loadedPanes[t.path])return e.loadedPanes[t.path];var n=T.Path(e.options.basePath).combine(T.Path(t.path).makeRelative());if(e.templates.loaded(t.path)||e.models[t.path])return null;var r=$.complete([e.loader.get(n.setExtension("js").toString(),t.path,e),e.loader.get(n.setExtension("htm").toString(),t.path,e),e.loader.get(n.setExtension("css").toString(),t.path,e)]);return e.loadedPanes[t.path]=r,$.when(r).fail(function(){T.logger.error("Unable to load resources for '"+t.path+"'.")}).always(function(){e.loadedPanes[t.path]=null}),r},T.LoadStrategies.preloaded=function(t,e){return e.models[t.path]||e.templates.loaded(t.path)?null:(T.logger.error("No resources loaded for '"+t.path+"'."),$.Deferred().reject())},T.transition=function(t,e,n){function r(){var t=$(s);"fixed"===T.transition.mode?t.css({position:"fixed",width:t.width(),left:t.offset().left,top:t.offset().top}):t.css({position:"absolute",width:t.width(),left:t.position().left,top:t.position().top})}function i(){if(!t)throw"No target passed to T.transition";t.constructor===T.Types.Node?(o=t,a=o.pane,s=a.element):t.constructor===T.Types.Pane?(a=t,o=a.node,s=a.element):s=t}var o,a,s;i(),e=e||a&&a.transition||o&&o.transition;var u=T.Transitions[e];return n&&u&&u.reverse&&(u=T.Transitions[u.reverse]),{"in":function(){return $(s).show(),u&&u["in"](s)},out:function(t){function e(){t===!1?$(s).hide().attr("style",""):$(s).remove()}r();var n=u&&u.out(s);return $.when(n).done(e),n},to:function(t,r){var i=T.context();return o?T.Utils.insertPaneAfter(o,s,T.Utils.getPaneOptions(t,{transition:e,reverseTransitionIn:n}),i):T.insertNodeAfter(s,T.Utils.getPaneOptions(t,{transition:e,reverseTransitionIn:n}),null,i),this.out(r),i.renderOperation.promise}}},function(){function t(t,e){function i(t){setTimeout(function(){$(t).addClass("trigger")},30)}function o(e,n,i){return function(){$(e).unbind(r).removeClass(t+" in out prepare trigger"),i&&$(e).hide(),n.resolve()}}T.Transitions[t]={"in":function(e){if(!n)return null;var a=$.Deferred();return $(e).bind(r,o(e,a)).addClass("prepare in "+t),i(e),a},out:function(e){if(!n)return null;var a=$.Deferred();return $(e).addClass("prepare out "+t).on(r,o(e,a,!0)),i(e),a},reverse:e||t}}function e(){var t=document.body||document.documentElement,e=t.style,n="transition",r=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var i=0,o=r.length;o>i;i++)if("string"==typeof e[r[i]+n])return!0;return!1}var n=e();t("fade"),t("slideLeft","slideRight"),t("slideRight","slideLeft"),t("slideUp","slideDown"),t("slideDown","slideUp");var r="webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd"}(),window.__appendStyle=function(t){var e=document.getElementById("__tribeStyles");e||(e=document.createElement("style"),e.className="__tribe",e.id="__tribeStyles",document.getElementsByTagName("head")[0].appendChild(e)),e.styleSheet?e.styleSheet.cssText+=t:e.appendChild(document.createTextNode(t))},window.__appendStyle(".trigger{-webkit-transition:all 250ms ease-in-out;transition:all 250ms ease-in-out}.fade.in.prepare{opacity:0}.fade.in.trigger{opacity:1}.fade.out.prepare{opacity:1}.fade.out.trigger{opacity:0}.slideRight.in.prepare{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slideRight.in.trigger{-webkit-transform:translateX(0);transform:translateX(0)}.slideRight.out.trigger{-webkit-transform:translateX(100%);transform:translateX(100%)}.slideLeft.in.prepare{-webkit-transform:translateX(100%);transform:translateX(100%)}.slideLeft.in.trigger{-webkit-transform:translateX(0);transform:translateX(0)}.slideLeft.out.trigger{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slideDown.in.prepare{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.slideDown.in.trigger{-webkit-transform:translateY(0);transform:translateY(0)}.slideDown.out.trigger{-webkit-transform:translateY(100%);transform:translateY(100%)}.slideUp.in.prepare{-webkit-transform:translateY(100%);transform:translateY(100%)}.slideUp.in.trigger{-webkit-transform:translateY(0);transform:translateY(0)}.slideUp.out.trigger{-webkit-transform:translateY(-100%);transform:translateY(-100%)}"),function(){function t(t,e){var n=T.scriptEnvironment||{},r=n.context||T.context(),i=e.string||n.resourcePath,o=e.func,a=e.object;r[t].register(i,o,a)}T.registerModel=function(){t("models",T.Utils.arguments(arguments))},T.registerSaga=function(){t("sagas",T.Utils.arguments(arguments))},T.run=function(t){T.options=$.extend(T.options,t),T.options.pubsub=T.options.pubsub||new Tribe.PubSub({sync:T.options.synchronous,handleExceptions:T.options.handleExceptions}),ko.applyBindings()}}(),function(){var t;T.context=function(e){t=t||{models:new T.Types.Resources,sagas:new T.Types.Resources,loader:new T.Types.Loader,options:T.options,templates:new T.Types.Templates,loadedPanes:{}};var n={renderOperation:new T.Types.Operation,pubsub:T.options.pubsub};return $.extend({},t,n,e)}}(),T.options.defaultUrlProvider={urlDataFrom:function(t){return t&&{url:"#"+$.param(t)}},paneOptionsFrom:function(t){return t&&T.Utils.deparam(t.substr(1))}},function(){var t=T.Utils;T.createNode=function(e,n,r,i){r=r||T.nodeFor(e),i=i||t.contextFor(e)||T.context();var o=new T.Types.Node(r);return t.bindPane(o,e,n,i),o},T.appendNode=function(t,e,n,r){var i=$("<div/>").appendTo(t);return T.createNode(i,e,n,r)},T.insertNodeAfter=function(t,e,n,r){var i=$("<div/>").insertAfter(t);return T.createNode(i,e,n||T.nodeFor(t),r)},T.nodeFor=function(t){return t&&T.Utils.extractNode(ko.contextFor($(t)[0]))}}(),function(){function t(t){return function(){return t}}function e(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push($.extend({$key:n},t[n]));return e}ko.bindingHandlers.foreachProperty={init:function(n,r,i,o,a){return ko.bindingHandlers.foreach.init(n,t(e(r())),i,o,a)},update:function(n,r,i,o,a){return ko.bindingHandlers.foreach.update(n,t(e(r())),i,o,a)}}}(),ko.bindingHandlers.navigate={init:function(t,e,n,r){function i(){return function(){o.navigate(a.value,T.Utils.cloneData(a.data))}}var o=T.nodeFor(t);if(o){var a=T.Utils.normaliseBindings(e,n),s=ko.bindingHandlers.validatedClick||ko.bindingHandlers.click;s.init(t,i,n,r)}}},ko.bindingHandlers.navigateBack={init:function(t,e,n,r){function i(){return function(){o.navigateBack()}}var o=T.nodeFor(t);o&&ko.bindingHandlers.click.init(t,i,n,r)}},function(){function t(t,e,n,r,i){function o(){return T.Utils.getPaneOptions(ko.utils.unwrapObservable(e()),n())}return T.createNode(t,o(),T.Utils.extractNode(i),T.Utils.extractContext(i)),{controlsDescendantBindings:!0}}ko.bindingHandlers.pane={init:t}}(),ko.bindingHandlers.publish={init:function(t,e,n,r){function i(){return function(){o.publish(a.value,T.Utils.cloneData(a.data))}}var o=T.nodeFor(t).pane.pubsub;if(o){var a=T.Utils.normaliseBindings(e,n),s=ko.bindingHandlers.validatedClick||ko.bindingHandlers.click;s.init(t,i,n,r)}}};