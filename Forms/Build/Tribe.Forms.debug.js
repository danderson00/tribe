window.eval("// Generated by CoffeeScript 1.2.1-pre\n\n/*!\n * Lightweight DatePicker - jQuery Plugin\n * Provides themeable and customizable date picker\n *\n * Â© 2011 Maxim Zhukov (zhkv.mxm@gmail.com)\n * \n * Version: 1.1\n * Requires: jQuery v1.6+\n *\n * Dual licensed under the MIT and GPL licenses:\n *   http://www.opensource.org/licenses/mit-license.php\n *   http://www.gnu.org/licenses/gpl.html\n*/\n\n\n(function() {\n  var $, LightweightDatepicker, compareDates, isDateValid, lw_dp_active_day_class, lw_dp_class, lw_dp_data_key, lw_dp_dows_class, lw_dp_dows_last_column_class, lw_dp_firstweek_class, lw_dp_hidden_class, lw_dp_lastweek_class, lw_dp_month_class, lw_dp_neighbour_month_day_class, lw_dp_next_class, lw_dp_out_of_interval_class, lw_dp_previous_class, lw_dp_today_class, lw_dp_toolbar_class, lw_dp_week_class, lw_dp_week_last_column_class, lw_dp_weekend_class, settings,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  $ = jQuery;\n\n  settings = {\n    'startDate': null,\n    'endDate': null,\n    'dowNames': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n    'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    'firstDayOfTheWeekIndex': 0,\n    'autoFillToday': false,\n    'alwaysVisible': false,\n    'autoHideAfterClick': false,\n    'parseDate': null,\n    'formatDate': null,\n    'onChange': null\n  };\n\n  lw_dp_class = 'lw-dp';\n\n  lw_dp_active_day_class = 'lw-dp-active-day';\n\n  lw_dp_dows_class = 'lw-dp-dows';\n\n  lw_dp_dows_last_column_class = 'lw-dp-dows-last-column';\n\n  lw_dp_firstweek_class = 'lw-dp-firstweek';\n\n  lw_dp_hidden_class = 'lw-dp-hidden';\n\n  lw_dp_lastweek_class = 'lw-dp-lastweek';\n\n  lw_dp_month_class = 'lw-dp-month';\n\n  lw_dp_neighbour_month_day_class = 'lw-dp-neighbour-month-day';\n\n  lw_dp_next_class = 'lw-dp-next';\n\n  lw_dp_out_of_interval_class = 'lw-dp-out-of-interval';\n\n  lw_dp_previous_class = 'lw-dp-previous';\n\n  lw_dp_today_class = 'lw-dp-today';\n\n  lw_dp_toolbar_class = 'lw-dp-toolbar';\n\n  lw_dp_week_class = 'lw-dp-week';\n\n  lw_dp_week_last_column_class = 'lw-dp-week-last-column';\n\n  lw_dp_weekend_class = 'lw-dp-weekend';\n\n  lw_dp_data_key = 'lw-datepicker';\n\n  compareDates = function(date1, date2) {\n    if (date1.getFullYear() < date2.getFullYear()) return -1;\n    if (date1.getFullYear() > date2.getFullYear()) return 1;\n    if (date1.getMonth() < date2.getMonth()) return -1;\n    if (date1.getMonth() > date2.getMonth()) return 1;\n    if (date1.getDate() < date2.getDate()) return -1;\n    if (date1.getDate() > date2.getDate()) return 1;\n    return 0;\n  };\n\n  isDateValid = function(date) {\n    if (Object.prototype.toString.call(date) !== '[object Date]') return false;\n    return !isNaN(date.getTime());\n  };\n\n  LightweightDatepicker = (function() {\n\n    LightweightDatepicker.name = 'LightweightDatepicker';\n\n    LightweightDatepicker.prototype.canShowPreviousMonth = true;\n\n    LightweightDatepicker.prototype.canShowNextMonth = true;\n\n    LightweightDatepicker.prototype.shouldHide = true;\n\n    function LightweightDatepicker(el, settings) {\n      this.destroy = __bind(this.destroy, this);\n\n      this._handleKeyDown = __bind(this._handleKeyDown, this);\n\n      this.showNextMonth = __bind(this.showNextMonth, this);\n\n      this.showPreviousMonth = __bind(this.showPreviousMonth, this);\n\n      this.show = __bind(this.show, this);\n\n      this.hide = __bind(this.hide, this);\n\n      this._isDateInsidePeriod = __bind(this._isDateInsidePeriod, this);\n\n      this.setCurrentDate = __bind(this.setCurrentDate, this);\n\n      this.setActiveDate = __bind(this.setActiveDate, this);\n\n      this._updateMonth = __bind(this._updateMonth, this);\n\n      this._getDateFromElement = __bind(this._getDateFromElement, this);\n\n      this._onChange = __bind(this._onChange, this);\n\n      this._onClick = __bind(this._onClick, this);\n      this.input = el;\n      this.input.bind('focus', this.show);\n      this.input.bind('blur', this.hide);\n      this.input.bind('keydown', this._handleKeyDown);\n      this.input.bind('change', this._onChange);\n      this.input.bind('click', this._onClick);\n        //this.isIE = $.browser.msie && parseInt($.browser.version, 10) <= 8;\n      this.isIE = (window.attachEvent && !window.addEventListener);\n      this.input.data(lw_dp_data_key, this);\n      this.settings = {\n        startDate: settings['startDate'],\n        endDate: settings['endDate'],\n        dowNames: settings['dowNames'],\n        monthNames: settings['monthNames'],\n        firstDayOfTheWeekIndex: settings['firstDayOfTheWeekIndex'],\n        autoFillToday: settings['autoFillToday'],\n        alwaysVisible: settings['alwaysVisible'],\n        autoHideAfterClick: settings['autoHideAfterClick'],\n        parseDate: settings['parseDate'],\n        formatDate: settings['formatDate'],\n        onChange: settings['onChange']\n      };\n      this.todayDate = new Date;\n      this.currentDate = this.settings.startDate || new Date;\n      this._createDatepicker();\n      if (this.settings.autoFillToday && this._isDateInsidePeriod(new Date)) {\n        this.activeDate = new Date;\n      }\n      this.setActiveDate(this._parseDate(this.input.val()));\n      if (this.settings.alwaysVisible) {\n        this.wrapper.insertAfter(this.input);\n      } else {\n        this.wrapper.appendTo(document.body);\n      }\n      this.margin = parseInt(this.wrapper.css('margin-top'), 10);\n      this.wrapper.css('margin', 0);\n      this._bindEvents();\n      if (this.settings.alwaysVisible) this.updatePosition();\n      this.updateInput();\n      this._updateMonth();\n      this.hide();\n    }\n\n    LightweightDatepicker.prototype._onClick = function() {\n      if (!$(\".\" + lw_dp_class).has(this.wrapper).length) return this.show();\n    };\n\n    LightweightDatepicker.prototype._onChange = function() {\n      if (this.updatingInput) return;\n      return this.setActiveDate(this._parseDate(this.input.val()));\n    };\n\n    LightweightDatepicker.prototype._createDatepicker = function() {\n      this.wrapper = $(\"<div class=\" + lw_dp_class + \"/>\");\n      this.toolbar = $(\"<div class=\" + lw_dp_toolbar_class + \"/>\").appendTo(this.wrapper);\n      this.previous = $(\"<div class=\" + lw_dp_previous_class + \"/>\").appendTo(this.toolbar);\n      this.next = $(\"<div class=\" + lw_dp_next_class + \"/>\").appendTo(this.toolbar);\n      this.month = $(\"<div class=\" + lw_dp_month_class + \"/>\").appendTo(this.toolbar);\n      this._renderDows().appendTo(this.wrapper);\n      return this.days = $('<div/>').appendTo(this.wrapper);\n    };\n\n    LightweightDatepicker.prototype._bindEvents = function() {\n      var event,\n        _this = this;\n      this.wrapper.bind('mousedown touchstart', function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (_this.isIE) return _this.shouldHide = false;\n      });\n      event = this.isIE ? 'mousedown' : 'click touchstart';\n      this.toolbar.delegate(\".\" + lw_dp_next_class, event, this.showNextMonth);\n      this.toolbar.delegate(\".\" + lw_dp_previous_class, event, this.showPreviousMonth);\n      return this.days.delegate(\"li:not(.\" + lw_dp_active_day_class + \"):not(.\" + lw_dp_out_of_interval_class + \")\", event, function(e) {\n        var currentLi;\n        currentLi = $(e.currentTarget);\n        _this.setActiveDate(_this._getDateFromElement(currentLi));\n        if (_this.settings.autoHideAfterClick) _this.hide();\n        if (typeof _this.settings.onChange === 'function') {\n          _this.settings.onChange(_this.activeDate, _this.input);\n        }\n        return false;\n      });\n    };\n\n    LightweightDatepicker.prototype._getDateFromElement = function(el) {\n      var currentDay, currentMonth, currentYear, diff;\n      currentDay = el.text();\n      currentYear = this.currentDate.getFullYear();\n      diff = 0;\n      if (el.hasClass(lw_dp_neighbour_month_day_class)) {\n        diff = currentDay > 10 ? -1 : 1;\n      }\n      currentMonth = this.currentDate.getMonth() + diff;\n      return new Date(currentYear, currentMonth, currentDay);\n    };\n\n    LightweightDatepicker.prototype.updateInput = function() {\n      this.input.val(this._formatDate(this.activeDate));\n      this.updatingInput = true;\n      this.input.trigger('change');\n      return this.updatingInput = false;\n    };\n\n    LightweightDatepicker.prototype._updateMonth = function() {\n      var cd, date, day, daysInFirstWeek, daysInMonth, daysInPreviousMonth, firstDayDow, firstDayOfNextMonth, html, lastDayOfPreviousMonth, lastDowIndex, renderDay, week, weeks, _i, _j,\n        _this = this;\n      this.month.html(this.settings.monthNames[this.currentDate.getMonth()] + ', ' + this.currentDate.getFullYear());\n      cd = this.currentDate;\n      lastDayOfPreviousMonth = new Date(cd.getFullYear(), cd.getMonth(), 0);\n      if ((this.settings.startDate != null) && lastDayOfPreviousMonth.getTime() < this.settings.startDate.getTime()) {\n        this.canShowPreviousMonth = false;\n        $(this.previous).hide();\n      } else {\n        this.canShowPreviousMonth = true;\n        $(this.previous).show();\n      }\n      firstDayOfNextMonth = new Date(cd.getFullYear(), cd.getMonth() + 1, 1);\n      if ((this.settings.endDate != null) && firstDayOfNextMonth.getTime() > this.settings.endDate.getTime()) {\n        this.canShowNextMonth = false;\n        $(this.next).hide();\n      } else {\n        this.canShowNextMonth = true;\n        $(this.next).show();\n      }\n      firstDayDow = (new Date(cd.getFullYear(), cd.getMonth(), 1)).getDay();\n      lastDowIndex = (this.settings.firstDayOfTheWeekIndex + 6) % 7;\n      daysInFirstWeek = (7 - firstDayDow + this.settings.firstDayOfTheWeekIndex) % 7;\n      if (daysInFirstWeek === 0) daysInFirstWeek = 7;\n      daysInPreviousMonth = lastDayOfPreviousMonth.getDate();\n      date = new Date(cd.getFullYear(), cd.getMonth(), daysInFirstWeek - 6);\n      daysInMonth = (new Date(cd.getFullYear(), cd.getMonth() + 1, 0)).getDate();\n      weeks = Math.ceil((daysInMonth + 7 - daysInFirstWeek) / 7.0);\n      renderDay = function(day) {\n        var classAttribute, classes, liContent;\n        classes = [];\n        classAttribute = '';\n        liContent = day.getDate();\n        if (day.getMonth() !== cd.getMonth()) {\n          classes.push(lw_dp_neighbour_month_day_class);\n        }\n        if (day.getDay() === 0 || day.getDay() === 6) {\n          classes.push(lw_dp_weekend_class);\n        }\n        if (day.getDay() === lastDowIndex) {\n          classes.push(lw_dp_week_last_column_class);\n        }\n        if (compareDates(day, _this.todayDate) === 0) {\n          classes.push(lw_dp_today_class);\n          liContent = \"<span>\" + liContent + \"</span>\";\n        }\n        if ((_this.activeDate != null) && compareDates(day, _this.activeDate) === 0) {\n          classes.push(lw_dp_active_day_class);\n        }\n        if (!_this._isDateInsidePeriod(date)) {\n          classes.push(lw_dp_out_of_interval_class);\n          liContent = '';\n        }\n        if (classes.length) {\n          classAttribute = \" class='\" + (classes.join(\" \")) + \"'\";\n        }\n        day.setDate(day.getDate() + 1);\n        return \"<li\" + classAttribute + \">\" + liContent + \"</li>\";\n      };\n      html = '';\n      for (week = _i = 1; 1 <= weeks ? _i <= weeks : _i >= weeks; week = 1 <= weeks ? ++_i : --_i) {\n        if (week === 1) {\n          html += \"<ul class='\" + lw_dp_week_class + \" \" + lw_dp_firstweek_class + \"'>\";\n        } else if (week === weeks) {\n          html += \"<ul class='\" + lw_dp_week_class + \" \" + lw_dp_lastweek_class + \"'>\";\n        } else {\n          html += \"<ul class=\" + lw_dp_week_class + \">\";\n        }\n        for (day = _j = 1; _j <= 7; day = ++_j) {\n          html += renderDay(date);\n        }\n        html += '</ul>';\n      }\n      return this.days.html(html);\n    };\n\n    LightweightDatepicker.prototype.setActiveDate = function(date) {\n      var activeLi, oldDate;\n      if (!isDateValid(date)) return false;\n      if (!this._isDateInsidePeriod(date)) return false;\n      oldDate = this.activeDate;\n      this.activeDate = date;\n      this.setCurrentDate(date);\n      this.updateInput();\n      if ((oldDate != null) && (date.getFullYear() === oldDate.getFullYear() && date.getMonth() === oldDate.getMonth())) {\n        this.days.find(\"li.\" + lw_dp_active_day_class).removeClass(lw_dp_active_day_class);\n        activeLi = this.days.find(\"li:not(.\" + lw_dp_neighbour_month_day_class + \")\").filter(function() {\n          return parseInt($(this).text(), 10) === date.getDate();\n        });\n        return activeLi.addClass(lw_dp_active_day_class);\n      }\n    };\n\n    LightweightDatepicker.prototype.setCurrentDate = function(date) {\n      this.currentDate = date;\n      return this._updateMonth();\n    };\n\n    LightweightDatepicker.prototype._isDateInsidePeriod = function(date) {\n      if ((this.settings.startDate != null) && (compareDates(date, this.settings.startDate) === -1)) {\n        return false;\n      }\n      if ((this.settings.endDate != null) && (compareDates(date, this.settings.endDate) === 1)) {\n        return false;\n      }\n      return true;\n    };\n\n    LightweightDatepicker.prototype._parseDate = function(string) {\n      if (typeof this.settings.parseDate === 'function') {\n        return this.settings.parseDate(string);\n      } else {\n        return new Date(Date.parse(string));\n      }\n    };\n\n    LightweightDatepicker.prototype._formatDate = function(date) {\n      if (!isDateValid(date)) return;\n      if (typeof this.settings.formatDate === 'function') {\n        return this.settings.formatDate(date);\n      } else {\n        if (date != null) {\n          return (date.getMonth() + 1) + '/' + date.getDate() + '/' + date.getFullYear();\n        } else {\n          return '';\n        }\n      }\n    };\n\n    LightweightDatepicker.prototype._renderDows = function() {\n      var day, first, found, html, name, temp, _i, _len, _ref;\n      first = this.settings.dowNames[this.settings.firstDayOfTheWeekIndex];\n      found = false;\n      html = \"<ul class=\" + lw_dp_dows_class + \">\";\n      temp = '';\n      _ref = this.settings.dowNames;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        name = _ref[_i];\n        if (name === first) found = true;\n        day = \"<li>\" + name + \"</li>\";\n        if (found) {\n          html += day;\n        } else {\n          temp += day;\n        }\n      }\n      html += temp;\n      html += '</ul>';\n      return $(html);\n    };\n\n    LightweightDatepicker.prototype.updatePosition = function() {\n      var inputOffset, left, top, wrapperOuterHeight, wrapperOuterWidth;\n      if (this.settings.alwaysVisible) {\n        inputOffset = this.input.position();\n      } else {\n        inputOffset = this.input.offset();\n      }\n      wrapperOuterWidth = this.wrapper.outerWidth();\n      wrapperOuterHeight = this.wrapper.outerHeight();\n      left = inputOffset.left;\n      if ($('body').width() > left + wrapperOuterWidth) {\n        this.wrapper.css({\n          'left': left\n        });\n      } else {\n        if (inputOffset.left > wrapperOuterWidth + this.margin) {\n          this.wrapper.css({\n            'left': $('body').width() - wrapperOuterWidth + this.margin\n          });\n        } else {\n          this.wrapper.css({\n            'left': left\n          });\n        }\n      }\n      this.wrapper.removeClass('lw-dp-opposite-vertical');\n      top = inputOffset.top + this.input.outerHeight() + this.margin;\n      if ($(document).height() > top + wrapperOuterHeight) {\n        return this.wrapper.css({\n          'top': top\n        });\n      } else {\n        if (inputOffset.top > wrapperOuterHeight + this.margin) {\n          this.wrapper.css({\n            'top': inputOffset.top - wrapperOuterHeight - this.margin\n          });\n          return this.wrapper.addClass('lw-dp-opposite-vertical');\n        } else {\n          return this.wrapper.css({\n            'top': top\n          });\n        }\n      }\n    };\n\n    LightweightDatepicker.prototype.hide = function() {\n      var _ref;\n      if (!this.settings.alwaysVisible && this.shouldHide) this.wrapper.detach();\n      if (!this.shouldHide) if ((_ref = this.input) != null) _ref.focus();\n      return this.shouldHide = true;\n    };\n\n    LightweightDatepicker.prototype.show = function() {\n      if (!this.settings.alwaysVisible) this.wrapper.appendTo(document.body);\n      this.updatePosition();\n      return this._updateMonth();\n    };\n\n    LightweightDatepicker.prototype.showPreviousMonth = function() {\n      return this.setCurrentDate(new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() - 1, this.currentDate.getDate()));\n    };\n\n    LightweightDatepicker.prototype.showNextMonth = function() {\n      return this.setCurrentDate(new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, this.currentDate.getDate()));\n    };\n\n    LightweightDatepicker.prototype._handleKeyDown = function(e) {\n      var handled, keyCode, newDate, selectionEnd, selectionStart;\n      keyCode = e.keyCode;\n      handled = true;\n      selectionStart = this.input[0].selectionStart;\n      selectionEnd = this.input[0].selectionEnd;\n      switch (keyCode) {\n        case 27:\n          this.input.blur();\n          return false;\n        case 33:\n          newDate = new Date(this.activeDate.getFullYear(), this.activeDate.getMonth() - 1, this.activeDate.getDate());\n          while (newDate.getMonth() === this.activeDate.getMonth()) {\n            newDate.setDate(newDate.getDate() - 1);\n          }\n          this.setActiveDate(newDate);\n          break;\n        case 34:\n          newDate = new Date(this.activeDate.getFullYear(), this.activeDate.getMonth() + 1, this.activeDate.getDate());\n          while (newDate.getMonth() === this.activeDate.getMonth() + 2) {\n            newDate.setDate(newDate.getDate() - 1);\n          }\n          this.setActiveDate(newDate);\n          break;\n        case 38:\n          this.setActiveDate(new Date(this.activeDate.getFullYear(), this.activeDate.getMonth(), this.activeDate.getDate() - 1));\n          break;\n        case 40:\n          this.setActiveDate(new Date(this.activeDate.getFullYear(), this.activeDate.getMonth(), this.activeDate.getDate() + 1));\n          break;\n        default:\n          handled = false;\n      }\n      this.input[0].selectionStart = selectionStart;\n      this.input[0].selectionEnd = selectionEnd;\n      return !handled;\n    };\n\n    LightweightDatepicker.prototype.destroy = function() {\n      this.toolbar.undelegate();\n      this.days.undelegate();\n      this.input.unbind('focus', this.show);\n      this.input.unbind('blur', this.hide);\n      this.input.unbind('keydown', this._handleKeyDown);\n      this.input.unbind('change', this._onChange);\n      this.input.unbind('click', this._onClick);\n      this.input.data(lw_dp_data_key, null);\n      return this.input = null;\n    };\n\n    return LightweightDatepicker;\n\n  })();\n\n  $.fn['lwDatepicker'] = function(options) {\n    options = $.extend({}, settings, options);\n    return this.each(function() {\n      var $el;\n      $el = $(this);\n      if (($el.is('input, textarea')) && !$el.data(lw_dp_data_key)) {\n        return new LightweightDatepicker($el, options);\n      }\n    });\n  };\n\n  $.fn['lwDatepicker']['setDefaultOptions'] = function(options) {\n    if (options == null) options = {};\n    return settings = $.extend(settings, options);\n  };\n\n}).call(this);\n\n//@ sourceURL=tribe://Tribe.Forms/Dependencies/jquery.lw-datepicker.js");
window.eval("(function () {\n    TF = window.TF || {};\n    TF.Dates = {};\n    var dates = TF.Dates;\n\n    dates.format = 'dd/mm/yy';\n    \n    function getDaysInMonth(year, month) {\n        return 32 - daylightSavingAdjust(new Date(year, month, 32)).getDate();\n    };\n\n    function daylightSavingAdjust(date) {\n        if (!date) return null;\n        date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);\n        return date;\n    };\n\n    var shortYearCutoff = '+10';\n    var dayNamesShort = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n    var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    var monthNamesShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n    dates.tryParseDate = function (value, format) {\n        try {\n            return dates.parseDate(value, format);\n        } catch (e) {\n            return null;\n        }\n    };\n\n    dates.parseDate = function (value, format) {\n        if (!value)\n            throw 'Invalid arguments';\n        if (!format)\n            format = dates.format;\n        value = (typeof value == 'object' ? value.toString() : value + '');\n        if (value == '')\n            return null;\n        var year = -1;\n        var month = -1;\n        var day = -1;\n        var doy = -1;\n        var literal = false;\n        // Check whether a format character is doubled\n        var lookAhead = function (match) {\n            var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) == match);\n            if (matches)\n                iFormat++;\n            return matches;\n        };\n        // Extract a number from the string value\n        var getNumber = function (match) {\n            var isDoubled = lookAhead(match);\n            var size = (match == '@' ? 14 : (match == '!' ? 20 :\n                (match == 'y' && isDoubled ? 4 : (match == 'o' ? 3 : 2))));\n            var digits = new RegExp('^\\\\d{1,' + size + '}');\n            var num = value.substring(iValue).match(digits);\n            if (!num)\n                throw 'Missing number at position ' + iValue;\n            iValue += num[0].length;\n            return parseInt(num[0], 10);\n        };\n        // Extract a name from the string value and convert to an index\n        var getName = function (match, shortNames, longNames) {\n            var names = $.map(lookAhead(match) ? longNames : shortNames, function (v, k) {\n                return [[k, v]];\n            }).sort(function (a, b) {\n                return -(a[1].length - b[1].length);\n            });\n            var index = -1;\n            $.each(names, function (i, pair) {\n                var name = pair[1];\n                if (value.substr(iValue, name.length).toLowerCase() == name.toLowerCase()) {\n                    index = pair[0];\n                    iValue += name.length;\n                    return false;\n                }\n            });\n            if (index != -1)\n                return index + 1;\n            else\n                throw 'Unknown name at position ' + iValue;\n        };\n        // Confirm that a literal character matches the string value\n        var checkLiteral = function () {\n            if (value.charAt(iValue) != format.charAt(iFormat))\n                throw 'Unexpected literal at position ' + iValue;\n            iValue++;\n        };\n        var iValue = 0;\n        for (var iFormat = 0; iFormat < format.length; iFormat++) {\n            if (literal)\n                if (format.charAt(iFormat) == \"'\" && !lookAhead(\"'\"))\n                    literal = false;\n                else\n                    checkLiteral();\n            else\n                switch (format.charAt(iFormat)) {\n                    case 'd':\n                        day = getNumber('d');\n                        break;\n                    case 'D':\n                        getName('D', dayNamesShort, dayNames);\n                        break;\n                    case 'o':\n                        doy = getNumber('o');\n                        break;\n                    case 'm':\n                        month = getNumber('m');\n                        break;\n                    case 'M':\n                        month = getName('M', monthNamesShort, monthNames);\n                        break;\n                    case 'y':\n                        year = getNumber('y');\n                        break;\n                    case '@':\n                        var date = new Date(getNumber('@'));\n                        year = date.getFullYear();\n                        month = date.getMonth() + 1;\n                        day = date.getDate();\n                        break;\n                    case '!':\n                        var date = new Date((getNumber('!') - this._ticksTo1970) / 10000);\n                        year = date.getFullYear();\n                        month = date.getMonth() + 1;\n                        day = date.getDate();\n                        break;\n                    case \"'\":\n                        if (lookAhead(\"'\"))\n                            checkLiteral();\n                        else\n                            literal = true;\n                        break;\n                    default:\n                        checkLiteral();\n                }\n        }\n        if (iValue < value.length) {\n            throw \"Extra/unparsed characters found in date: \" + value.substring(iValue);\n        }\n        if (year == -1)\n            year = new Date().getFullYear();\n        else if (year < 100)\n            year += new Date().getFullYear() - new Date().getFullYear() % 100 +\n                (year <= shortYearCutoff ? 0 : -100);\n        if (doy > -1) {\n            month = 1;\n            day = doy;\n            do {\n                var dim = getDaysInMonth(year, month - 1);\n                if (day <= dim)\n                    break;\n                month++;\n                day -= dim;\n            } while (true);\n        }\n        var date = daylightSavingAdjust(new Date(year, month - 1, day));\n        if (date.getFullYear() != year || date.getMonth() + 1 != month || date.getDate() != day)\n            throw 'Invalid date';\n        return date;\n    };\n\n    dates.formatDate = function (date, format) {\n        if (!format)\n            format = dates.format;\n        if (!date)\n            return '';\n        if (date.constructor === String)\n            date = dates.parseDate(date, format);\n\n        // Check whether a format character is doubled\n        var lookAhead = function (match) {\n            var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) == match);\n            if (matches)\n                iFormat++;\n            return matches;\n        };\n        // Format a number, with leading zero if necessary\n        var formatNumber = function (match, value, len) {\n            var num = '' + value;\n            if (lookAhead(match))\n                while (num.length < len)\n                    num = '0' + num;\n            return num;\n        };\n        // Format a name, short or long as requested\n        var formatName = function (match, value, shortNames, longNames) {\n            return (lookAhead(match) ? longNames[value] : shortNames[value]);\n        };\n        var output = '';\n        var literal = false;\n        if (date)\n            for (var iFormat = 0; iFormat < format.length; iFormat++) {\n                if (literal)\n                    if (format.charAt(iFormat) == \"'\" && !lookAhead(\"'\"))\n                        literal = false;\n                    else\n                        output += format.charAt(iFormat);\n                else\n                    switch (format.charAt(iFormat)) {\n                        case 'd':\n                            output += formatNumber('d', date.getDate(), 2);\n                            break;\n                        case 'D':\n                            output += formatName('D', date.getDay(), dayNamesShort, dayNames);\n                            break;\n                        case 'o':\n                            output += formatNumber('o',\n                                Math.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);\n                            break;\n                        case 'm':\n                            output += formatNumber('m', date.getMonth() + 1, 2);\n                            break;\n                        case 'M':\n                            output += formatName('M', date.getMonth(), monthNamesShort, monthNames);\n                            break;\n                        case 'y':\n                            output += (lookAhead('y') ? date.getFullYear() :\n                                (date.getYear() % 100 < 10 ? '0' : '') + date.getYear() % 100);\n                            break;\n                        case '@':\n                            output += date.getTime();\n                            break;\n                        case '!':\n                            output += date.getTime() * 10000 + this._ticksTo1970;\n                            break;\n                        case \"'\":\n                            if (lookAhead(\"'\"))\n                                output += \"'\";\n                            else\n                                literal = true;\n                            break;\n                        default:\n                            output += format.charAt(iFormat);\n                    }\n            }\n        return output;\n    };\n})();\n\n//@ sourceURL=tribe://Tribe.Forms/Infrastructure/Dates.js");
window.eval("(function () {\n    // adds setWithoutValidation to observables\n    var oldExtender = ko.extenders['validatable'];\n    ko.extenders['validatable'] = function (observable, enable) {\n        oldExtender(observable, enable);\n        observable.setWithoutValidation = setWithoutValidation;\n    };\n\n    function setWithoutValidation(value) {\n        var rules = observable.rules();\n        observable.rules([]);\n        observable(value);\n        observable.isModified(false);\n        observable.rules(rules);\n    }\n})();\n//@ sourceURL=tribe://Tribe.Forms/Infrastructure/observableExtensions.js");
window.eval("TF = window.TF || {};\nTF.renderTemplate = function (name, target) {\n    $(target).empty().append($('head script#template--Forms-' + name).html());\n};\n//@ sourceURL=tribe://Tribe.Forms/Infrastructure/templates.js");
window.eval("TF = window.TF || {};\nTF.Utils = {};\n\nTF.Utils.normaliseBindings = function (valueAccessor, allBindingsAccessor) {\n    var data = allBindingsAccessor();\n    data.value = valueAccessor();\n    if (!ko.isObservable(data.value) && $.isFunction(data.value))\n        data.value = data.value();\n    return data;\n};\n\nTF.Utils.evaluateProperty = function (target, property, defaultValue) {\n    var properties = property.match(/[^\\.]+/g);\n    var result = target;\n\n    if (properties) {\n        for (var i = 0, l = properties.length; i < l; i++) {\n            var current = result[properties[i]];\n            if (current)\n                result = current;\n            else if (defaultValue) {\n                result[properties[i]] = i < (l - 1) ? {} : defaultValue;\n                result = result[properties[i]];\n            } else\n                return undefined;\n        }\n    }\n    return result;\n};\n\nTF.Utils.cloneData = function (from, except) {\n    var result = {};\n    for (var property in from) {\n        var value = from[property];\n        if (from.hasOwnProperty(property) &&\n            (!except || Array.prototype.indexOf.call(arguments, property) === -1) &&\n            (!value || (value.constructor !== Function || ko.isObservable(value))))\n\n            result[property] = ko.utils.unwrapObservable(value);\n    }\n    return result;\n};\n//@ sourceURL=tribe://Tribe.Forms/Infrastructure/Utils.js");
window.eval("ko.validation.rules['date'] = {\n    validator: function (value, validate) {\n        return !value || (validate && TF.Dates.tryParseDate(value));\n    },\n    message: 'Please enter a proper date'\n};\n//@ sourceURL=tribe://Tribe.Forms/Infrastructure/validationRules.js");
window.eval("(function () {\n    addBindingHandler('display');\n    addBindingHandler('textField');\n    addBindingHandler('dateField');\n    addBindingHandler('passwordField');\n    addBindingHandler('selectField');\n    addBindingHandler('radioField');\n    addBindingHandler('booleanField');\n\n    ko.bindingHandlers.field = {\n        update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n            var properties = valueAccessor();\n            renderFieldTemplate(properties.type + 'Field', element, function () { return properties.value; }, valueAccessor, viewModel, bindingContext);\n        }\n    };\n\n    function addBindingHandler(name) {\n        ko.bindingHandlers[name] = {\n            init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n                renderFieldTemplate(name, element, valueAccessor, allBindingsAccessor, viewModel, bindingContext);\n                return { controlsDescendantBindings: true };\n            }\n        };\n    }\n\n    function renderFieldTemplate(templateName, element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var data = TF.Utils.normaliseBindings(valueAccessor, allBindingsAccessor);\n        if(bindingContext.__create) resolveStringValue();\n\n        var innerBindingContext = bindingContext.extend(data);\n        ko.applyBindingsToDescendants(innerBindingContext, element);\n\n        TF.renderTemplate(templateName, element);\n        fieldSpecificSetup();\n        ko.applyBindingsToDescendants(data, element);\n            \n        var inputs = $(element).find('input');\n        setIdAttribute();\n        setFocus();\n        clickFirstButtonOnEnterKey();\n\n        function resolveStringValue() {\n            if (data.value.constructor === String) {\n                var defaultValue;\n                if (bindingContext.__create) defaultValue = ko.observable(data.defaultValue).extend(data.validate);\n                var evaluatedValue = TF.Utils.evaluateProperty(viewModel, data.value, defaultValue);\n                data.value = evaluatedValue;\n            }\n        }\n\n        // this is a bit of a hack\n        function setFocus() {\n            if (data.isDefault)\n                setTimeout(function () {\n                    inputs.focus();\n                }, 100);\n        }\n\n        // this has got to work outside of Tribe...\n        function clickFirstButtonOnEnterKey() {\n            if (viewModel && viewModel.__node)\n                inputs.keyup(function (event) {\n                    if (event.which === 13) {\n                        $(event.target).change().blur();\n                        \n                        var clickTarget = $(element).closest('.form').find('button:eq(0)');\n                        if(clickTarget.length === 0 && viewModel.__node)\n                            clickTarget = $(viewModel.__node.pane.element).find('button:eq(0)');\n                        clickTarget.click();\n                    }\n                });\n        }\n\n        // it would be nicer if we could use the attr { id: id } binding in knockout, but the jQuery UI datepicker sets the id of elements, the attr binding then resets it.\n        function setIdAttribute() {\n            inputs.eq(0).attr('id', data.id);\n        }\n        \n        // yeh, this is pretty nasty... If more code is added here, this should be refactored.\n        function fieldSpecificSetup() {\n            switch(templateName) {\n                case 'dateField':\n                    $('.datePicker').lwDatepicker({ parseDate: TF.Dates.tryParseDate, formatDate: TF.Dates.formatDate, autoHideAfterClick: true });\n                    break;\n            }\n        }\n    };\n})();\n//@ sourceURL=tribe://Tribe.Forms/BindingHandlers/fields.js");
window.eval("ko.bindingHandlers.focus = {\n    update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var context = viewModel.__context || bindingContext.$root.__context;\n        if (context)\n            $.when(context.renderOperation.promise).done(function () {\n                setTimeout(function() {\n                    $(element).focus();\n                }, 100);\n            });\n    }\n};\n//@ sourceURL=tribe://Tribe.Forms/BindingHandlers/focus.js");
window.eval("ko.bindingHandlers.form = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var data = TF.Utils.normaliseBindings(valueAccessor, allBindingsAccessor);\n        data.value = data.value || {};\n        \n        if (data.value.constructor === String) {\n            var defaultValue = data.create ? {} : undefined;\n            data.value = TF.Utils.evaluateProperty(viewModel, data.value, defaultValue);\n        }\n\n        var childContext = bindingContext.createChildContext(data.value);\n        if (data.create) childContext.__create = true;\n        ko.applyBindingsToDescendants(childContext, element);\n\n        return { controlsDescendantBindings: true };\n    }\n};\n//@ sourceURL=tribe://Tribe.Forms/BindingHandlers/form.js");
window.eval("ko.bindingHandlers.navigate = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        if (!TC) return;\n        var node = TC.nodeFor(element);\n        if (!node) return;\n\n        ko.bindingHandlers.validatedClick.init(element, navigate, allBindingsAccessor, viewModel);\n\n        function navigate() {\n            return function() {\n                node.navigate(valueAccessor(), TF.Utils.cloneData(viewModel));\n            };\n        }\n    }\n};\n//@ sourceURL=tribe://Tribe.Forms/BindingHandlers/navigate.js");
window.eval("ko.bindingHandlers.publish = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        if (!TC) return;\n        var pubsub = TC.nodeFor(element).pane.pubsub;\n        if (!pubsub) return;\n\n        ko.bindingHandlers.validatedClick.init(element, publishAccessor, allBindingsAccessor, viewModel);\n\n        function publishAccessor() {\n            return function() {\n                pubsub.publish(valueAccessor(), TF.Utils.cloneData(viewModel));\n            };\n        }\n    }\n};\n//@ sourceURL=tribe://Tribe.Forms/BindingHandlers/publish.js");
window.eval("(function () {\n    ko.bindingHandlers.select = {\n        update: function (element, valueAccessor, allBindingsAccessor) {\n            var value = valueAccessor();\n            var bindings = allBindingsAccessor();\n            var source = ko.utils.unwrapObservable(bindings.source);\n            var displayList = bindings.property ?\n                _.map(source, function(item) {\n                    return item[bindings.property];\n                }) : \n                source.slice(0);\n\n            displayList.splice(0, 0, [bindings.initialText || 'Select...']);\n\n            setTimeout(function() {\n                TF.renderTemplate('/Templates/select.list', element);\n                ko.applyBindings({ source: displayList, change: change }, element.children[0]);\n            });\n            \n            function change(binding, event) {\n                var index = $(event.target).find('option:selected').index();\n                if(ko.isObservable(value))\n                    value(index ? source[index - 1] : null);\n            }\n        }\n    };\n\n    ko.bindingHandlers.label = {\n        update: function (element, valueAccessor) {\n            $(element).attr('label', ko.utils.unwrapObservable(valueAccessor()));\n        }\n    };\n})();\n//@ sourceURL=tribe://Tribe.Forms/BindingHandlers/select.js");
window.eval("(function() {\n    ko.bindingHandlers.validatedClick = {\n        'init': function (element, valueAccessor, allBindingsAccessor, viewModel) {\n            var newValueAccessor = function() {\n                return validatedClick;\n            };\n            return ko.bindingHandlers.click.init(element, newValueAccessor, allBindingsAccessor, viewModel);\n\n            function validatedClick(arg) {\n                // knockout validation adds some properties to the object, clone so we don't affect the original\n                var target = $.extend({}, arg);\n                \n                // we also want to ignore Tribe embedded properties or they cause the validator to loop infinitely\n                delete target.__context;\n                delete target.__node;\n                \n                var errors = ko.validation.group(target, { deep: true });\n                if (errors().length > 0)\n                    errors.showAllMessages();\n                else\n                    valueAccessor()(arg);\n            }\n        }\n    };\n})();\n//@ sourceURL=tribe://Tribe.Forms/BindingHandlers/validatedClick.js");
window.eval("//ko.bindingHandlers['validationMessage'] = {\n//    init: function (element, valueAccessor) {\n//        var id = uuid.v4();\n//        var observable = valueAccessor();\n//        var $parent = $(element).parent();\n//        var $targetElement;\n\n//        if ($parent.hasClass('display'))\n//            $targetElement = $parent.parent().parent();\n//        else {\n//            var $prev = $(element).prev();\n//            $targetElement = $prev.attr('type') === 'hidden' ? $prev.prev() : $prev;\n//        }\n//        var error = ko.observable();\n//        var pane = TC.insertNodeAfter($targetElement, {\n//            path: '/Common/tooltip',\n//            data: { html: error, position: 'auto', target: $targetElement, timeout: 3000, topic: id }\n//        });\n//        $targetElement.next().addClass('validationMessage');\n//        observable.subscribe(function () {\n//            if (observable.isModified && observable.isModified()) {\n//                TC.context().pubsub.publish(observable.isValid() ? 'tooltip.hide' : 'tooltip.show', { topic: id, immediate: true });\n//                error(observable.error);\n//            }\n//        });\n//        return { controlsDescendantBindings: true };\n//    }\n//};\n\n//@ sourceURL=tribe://Tribe.Forms/BindingHandlers/validationMessage.tooltip.js");
$('head')
    .append('<script type="text/template" id="template--Forms-booleanField"><div class="field">\n    <div class="label">\n        <span data-bind="text: $data.displayText"></span>\n    </div>\n    <div class="display">\n        <input type="checkbox" data-bind="checked: value" />\n    </div>\n    <div style="clear: both"></div>\n</div>\n</script>');
$('head')
    .append('<script type="text/template" id="template--Forms-dateField"><div class="field">\n    <div class="label">\n        <span data-bind="text: $data.displayText"></span>\n    </div>\n    <div class="display">\n        <input type="text" class="datePicker" data-bind="value: value, restrictKeys: \'[^0-9\\/]+\'" />\n    </div>\n    <div style="clear: both"></div>\n</div></script>');
$('head')
    .append('<script type="text/template" id="template--Forms-display"><div class="field">\n    <div class="label">\n        <span data-bind="text: $data.displayText"></span>\n    </div>\n    <div class="display">\n        <span data-bind="text: value"></span>\n    </div>\n    <div style="clear: both"></div>\n</div></script>');
$('head')
    .append('<script type="text/template" id="template--Forms-passwordField"><div class="field">\n    <div class="label">\n        <span data-bind="text: $data.displayText"></span>\n    </div>\n    <div class="display">\n        <input type="password" data-bind="value: value"></input>\n    </div>\n    <div style="clear: both"></div>\n</div></script>');
$('head')
    .append('<script type="text/template" id="template--Forms-radioField"><div class="field">\n    <div class="label">\n        <span data-bind="text: $data.displayText"></span>\n    </div>\n    <div class="display" data-bind="foreach: items">\n        <label>\n            <input type="radio" data-bind="value: $data, checked: $parent.value, attr: { name: $parent.displayText.replace(/ /g, \'_\') }" />\n            <span data-bind="text: $data"></span>\n        </label>\n        &nbsp;\n    </div>\n    <div style="clear: both"></div>\n</div></script>');
$('head')
    .append('<script type="text/template" id="template--Forms-selectField"><div class="field">\n    <div class="label">\n        <span data-bind="text: $data.displayText"></span>\n    </div>\n    <div class="display">\n        <select data-bind="options: items, value: value, optionsText: $data.optionsText"></select>\n    </div>\n    <div style="clear: both"></div>\n</div></script>');
$('head')
    .append('<script type="text/template" id="template--Forms-textField"><div class="field">\n    <div class="label">\n        <span data-bind="text: $data.displayText"></span>\n    </div>\n    <div class="display">\n        <input type="text" data-bind="value: value" />\n    </div>\n    <div style="clear: both"></div>\n</div></script>');
$('head')
    .append('<script type="text/template" id="template--Forms-validationMessage"><div data-bind="pane: \'/Common/tooltip\', data: { html: $data.field.error, autoShow: true, position: \'right\' }"></div></script>');
$('<style/>')
    .attr('class', '__tribe')
    .text('.lw-dp{position:absolute;z-index:100;overflow:hidden;cursor:default;width:141px;border-width:1px;border-style:solid;padding:4px;margin:5.5px;background:#45484d;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzQ1NDg0ZCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,rgba(69,72,77,1) 0%,rgba(0,0,0,1) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(69,72,77,1)),color-stop(100%,rgba(0,0,0,1)));background:-webkit-linear-gradient(top,rgba(69,72,77,1) 0%,rgba(0,0,0,1) 100%);background:-o-linear-gradient(top,rgba(69,72,77,1) 0%,rgba(0,0,0,1) 100%);background:-ms-linear-gradient(top,rgba(69,72,77,1) 0%,rgba(0,0,0,1) 100%);background:linear-gradient(top,rgba(69,72,77,1) 0%,rgba(0,0,0,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#45484d\',endColorstr=\'#000000\',GradientType=0);border-radius:6px;-moz-border-radius:6px;-webkit-border-radius:6px;box-shadow:3px 3px 3px rgba(0,0,0,.3);-moz-box-shadow:3px 3px 3px rgba(0,0,0,.3);-webkit-box-shadow:3px 3px 3px rgba(0,0,0,.3);-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;user-select:none}.lw-dp-hidden{display:none;box-shadow:none}.lw-dp-toolbar{text-align:center;overflow:hidden;font-size:12px;line-height:18px;color:#ddd;padding:0 0 2.2px}.lw-dp-month{display:inline-block;width:103px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.lw-dp-previous,.lw-dp-next{position:absolute;overflow:hidden;top:8px;width:0;height:0;color:#ddd;cursor:pointer;border-top:5.938px solid transparent;border-bottom:5.938px solid transparent}.lw-dp-previous{left:8px;border-right:11.875px solid #ddd}.lw-dp-next{right:8px;border-left:11.875px solid #ddd}.lw-dp-previous:hover{border-right-color:#797979}.lw-dp-next:hover{border-left-color:#797979}.lw-dp-previous:active{border-right-color:#acacac}.lw-dp-next:active{border-left-color:#acacac}.lw-dp-dows{padding:0;margin:0;overflow:hidden}.lw-dp-dows li,.lw-dp-week li{display:block;float:left;padding:0;margin:0;text-align:center;color:#fff}.lw-dp-dows li{font-size:9px;line-height:7.7px;width:20px;height:10px;padding:0;margin:0}.lw-dp-week{padding:0;margin:0;overflow:hidden}.lw-dp-week li{padding:0;margin:0;border-width:0;font-size:11px;color:#000;width:19px;height:19px;line-height:19px;background:#e0e0e0;border-left-width:1px;border-top-width:1px;border-style:solid;border-color:#f9f9f9;cursor:pointer}.lw-dp-dows-last-column,.lw-dp-week-last-column{border-right-width:1px}.lw-dp-lastweek li{padding:0;margin:0;border-bottom-width:1px}.lw-dp-firstweek li:first-child{-moz-border-radius:4px 0 0 0;-webkit-border-radius:4px 0 0 0;-o-border-radius:4px 0 0 0;-ms-border-radius:4px 0 0 0;-khtml-border-radius:4px 0 0 0;border-radius:4px 0 0 0}.lw-dp-firstweek li:last-child{-moz-border-radius:0 4px 0 0;-webkit-border-radius:0 4px 0 0;-o-border-radius:0 4px 0 0;-ms-border-radius:0 4px 0 0;-khtml-border-radius:0 4px 0 0;border-radius:0 4px 0 0}.lw-dp-lastweek li:first-child{-moz-border-radius:0 0 0 4px;-webkit-border-radius:0 0 0 4px;-o-border-radius:0 0 0 4px;-ms-border-radius:0 0 0 4px;-khtml-border-radius:0 0 0 4px;border-radius:0 0 0 4px}.lw-dp-lastweek li:last-child{-moz-border-radius:0 0 4px 0;-webkit-border-radius:0 0 4px 0;-o-border-radius:0 0 4px 0;-ms-border-radius:0 0 4px 0;-khtml-border-radius:0 0 4px 0;border-radius:0 0 4px 0}.lw-dp-week li:hover{background:#f4f4f4}li.lw-dp-weekend{background:#d0d0d0}li.lw-dp-today{-moz-border-radius:2px;-webkit-border-radius:2px;-o-border-radius:2px;-ms-border-radius:2px;-khtml-border-radius:2px;border-radius:2px}li.lw-dp-today span{display:block;width:17px;height:17px;line-height:17px;border:1px solid #acacac;-moz-border-radius:2px;-webkit-border-radius:2px;-o-border-radius:2px;-ms-border-radius:2px;-khtml-border-radius:2px;border-radius:2px}li.lw-dp-today:hover span{color:#797979}li.lw-dp-active-day,li.lw-dp-active-day:hover{position:relative;color:#f9f9f9;background:#797979}li.lw-dp-active-day:nth-child(n),li.lw-dp-active-day:hover:nth-child(n){background:none}li.lw-dp-active-day::before,li.lw-dp-active-day:hover::before{position:absolute;left:0;top:0;bottom:0;right:0;content:\'\';-moz-border-radius:2px;-webkit-border-radius:2px;-o-border-radius:2px;-ms-border-radius:2px;-khtml-border-radius:2px;border-radius:2px;background:#797979;z-index:-1}li.lw-dp-active-day:hover span{background:#e0e0e0}li.lw-dp-neighbour-month-day{color:#b9b9b9}li.lw-dp-out-of-interval,li.lw-dp-out-of-interval:hover{background:#ececec;cursor:default}')
    .appendTo('head');
$('<style/>')
    .attr('class', '__tribe')
    .text('.field{clear:left;padding-top:5px}.label{float:left;width:150px}.display{float:left;position:relative}.fieldColumn{float:left}.fieldColumn:nth-child(n+2){padding-left:20px}.validationMessage{display:inline;color:#fa8072}.validationMessage .tooltipContent{padding:1px 5px;border:1px solid #4f0707;white-space:nowrap;background:#ad1111}.desktop .validationMessage .tooltipContent{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2FkMTExMSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM0ZjA3MDciIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,rgba(173,17,17,1) 0%,rgba(79,7,7,1) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(173,17,17,1)),color-stop(100%,rgba(79,7,7,1)));background:-webkit-linear-gradient(top,rgba(173,17,17,1) 0%,rgba(79,7,7,1) 100%);background:-o-linear-gradient(top,rgba(173,17,17,1) 0%,rgba(79,7,7,1) 100%);background:-ms-linear-gradient(top,rgba(173,17,17,1) 0%,rgba(79,7,7,1) 100%);background:linear-gradient(top,rgba(173,17,17,1) 0%,rgba(79,7,7,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ad1111\',endColorstr=\'#4f0707\',GradientType=0)}.validationElement{border:2px solid red!important}')
    .appendTo('head');
$('<style/>')
    .attr('class', '__tribe')
    .text('.TM .field{width:100%;margin-bottom:5px}.TM .label{font-size:.7em}.TM .display{width:100%}.TM .display input{width:100%}.TM .fieldColumn{float:left}.TM .fieldColumn:nth-child(n+2){padding-left:20px}.TM .validationElement{border:2px solid red!important}')
    .appendTo('head');
