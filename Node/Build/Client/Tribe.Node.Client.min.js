"undefined"==typeof T&&(T={}),T.Types=T.Types||{},Tribe.PubSub.prototype.connect=function(){},Tribe.PubSub.Channel.prototype.connect=function(e){var t=this;T.hub.join(this.id),this.subscribe(e||"*",function(e,t){T.hub.publish(t)});var n=this.end;return this.end=function(){T.hub.leave(t.channelId),n()},this},T.Types.Hub=function(e,t,n){var i=e.connect(n.socketUrl);i.on("message",function(e){e.origin="server",t.publish(e)}),this.publish=function(e){if(!i)throw"Hub must be connected before calling publish";"server"!==e.origin&&i.emit("message",e)},this.join=function(e){i.emit("join",e)}};