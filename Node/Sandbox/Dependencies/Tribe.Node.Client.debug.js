window.eval("if (typeof (T) == 'undefined') T = {};\nT.Types = T.Types || {};\n\n//@ sourceURL=tribe://Client/setup.js");

window.eval("Tribe.PubSub.prototype.connect = function () {\n    \n};\n\nTribe.PubSub.Channel.prototype.connect = function (topics) {\n    var self = this;\n    \n    T.hub.join(this.id);\n    this.subscribe(topics || '*', function(data, envelope) {\n        T.hub.publish(envelope);\n    });\n\n    var end = this.end;\n    this.end = function () {\n        T.hub.leave(self.channelId);\n        end();\n    };\n    \n    return this;\n};\n//@ sourceURL=tribe://Client/PubSub.extensions.js");

window.eval("T.Types.Hub = function (io, pubsub, options) {\n    var socket = io.connect(options.socketUrl);\n\n    socket.on('message', function (envelope) {\n        envelope.origin = 'server';\n        pubsub.publish(envelope);\n    });\n\n    this.publish = function(envelope) {\n        if (!socket)\n            throw 'Hub must be connected before calling publish';\n        if(envelope.origin !== 'server')\n            socket.emit('message', envelope);\n    };\n\n    this.join = function(channel) {\n        socket.emit('join', channel);\n    };\n};\n//@ sourceURL=tribe://Client/Types/Hub.js");
