var options = require('tribe/options'),
    paths = require('tribe/utilities/paths');

suite('tribe.utilities.paths', function () {
    setup(function () {
        options.basePath = 'c:\\test\\';
    });

    test("resolveAppPath appends path to basePath", function () {
        expect(paths.resolveAppPath('test.js')).to.equal('c:\\test\\test.js');
        expect(paths.resolveAppPath('test/test.js')).to.equal('c:\\test\\test\\test.js');
    })

    test("appPathFor finds path relative to basePath", function () {
        expect(paths.appPathFor('c:\\test\\test.js')).to.equal('test.js');
        expect(paths.appPathFor('c:\\test\\test2\\test.js')).to.equal('test2/test.js');
    });

    test("resourcePathFor removes file extension and leading resource path", function () {
        expect(paths.resourcePathFor('c:\\test\\test.js')).to.equal('/test');
        expect(paths.resourcePathFor('c:\\test\\test\\test.htm')).to.equal('/test/test');
        expect(paths.resourcePathFor('c:\\test\\test\\test.htm', 'test')).to.equal('/test');
    });

    test("markupIdentifierFor prepends type and replaces special characters", function () {
        expect(paths.markupIdentifierFor('/test/test', 'template')).to.equal('template--test-test');
    });
});