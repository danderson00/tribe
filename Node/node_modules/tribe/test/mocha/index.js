var Mocha = require('mocha'),
    overrides = require('./overrides'),
    convert = require('./convert'),
    loader = require('./loader'),
    runner = require('./runner'),
    options = require('tribe/options'),

    mocha = new Mocha(options.test.mocha);

module.exports = {
    run: function () {
        return runner.run(mocha.suite, options.test.mocha.reporter);
    },
    loadFile: function (path, debugPath) {
        return loader.loadFile(mocha, path, debugPath);
    },
    loadDirectory: function (path) {
        return loader.loadDirectory(mocha, path);
    },
    removeFile: function (path) {
        return loader.removeFile(mocha, path);
    },
    tests: function () {
        return convert.suite(mocha.suite);
    }
};
