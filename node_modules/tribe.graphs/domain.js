var d3 = require('d3')

module.exports = function (data, options) {
    // very inefficient, many optimizations can be applied here
    var x = {
            max: d3.max(data.map(points => d3.max(points.map(point => point[0])))),
            min: d3.min(data.map(points => d3.min(points.map(point => point[0]))))
        },
        y = {
            max: d3.max(data.map(points => d3.max(points.map(point => point[1])))),
            min: d3.min(data.map(points => d3.min(points.map(point => point[1]))))
        }

    setFormat(x)
    setFormat(y)

    return { x: x, y: y }

    function setFormat(domain) {
        if(domain.min.constructor === Date)
            domain.format = d3.timeFormat('%I:%M:%S')
        else
            // domain.format = d3.format(',.0f')
            domain.format = e => Math.floor(e) === e ? e : '' 
    }
}
