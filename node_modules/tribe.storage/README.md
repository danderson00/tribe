tribe.storage
=============

tribe is a platform for building event based systems.

This module provides efficient, portable, extensible object storage. 

It operates seamlessly both on the server (using SQLite) and ~~browser (using indexeddb)~~ (soon!), providing a consistent API regardless of where the module is used.

Installation
------------

    npm install tribe.storage

Usage
-----

	var storage = require('tribe.storage'),
		entity;

	// open a sqlite3 store with a single entity called "test"
	// that has a single index against the id property
	storage.open([{ name: 'test', indexes: ['id'] }])
		.then(function (provider) {
			// grab a reference to the "test" entity
			entity = provider.entity('test');

			// store some objects
			return entity.store([
				{ id: 1, property1: 'A string value', property2: 34 },
				{ id: 2, property1: 'Another string value', property2: 23 },
				{ id: 3, property1: 'Lorem ipsum', property2: 129 }
			]);
		})
		.then(function () {
			// get objects with an id value greater than or equal to 2
			return entity.retrieve({ p: 'id', o: '>=', v: 2 });
		})
		.then(function (objects) {
			// log some pretty stuff
			console.log(JSON.stringify(objects, null, 2));
		});

Why?
----

The design goals were as follows:

- Provide an indexed JSON based object storage mechanism
- Provide a simple, consistent, seamless API across all Javascript platforms
- Allow creation of indexes on objects by specifying one or more "key paths"
- Operate out-of-the-box with little or no configuration
- Provide local file based storage (server side) and browser based storage out-of-the-box
- Allow for seamless transitions from file based storage to other scalable storage mediums
- Expose asynchronous operations as promises
- Work seamlessly with browserify

Nothing out there (to my knowledge) goes anywhere close to fulfilling all of these requirements.

License
-------

The Tribe platform is licensed under the MIT license.