// we need to store metadata about entities so we know when to upgrade the store
var open = require('./open'),
    Q = require('q'),
    db;

module.exports = {
    forStore: function (name) {
        return Q.when(initialise()).then(function () {

        });
    },
    update: function (name, data) {

    }
};

function initialise() {
    if (!db)
        return open('__metadata', 1, function (database) {
            database.createObjectStore('stores', { keyPath: 'name' });
        }).then(function (createdDb) {
            db = createdDb;
        });
}