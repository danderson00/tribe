suite('tribe.expressions.projections', function () {
    var query = require('tribe.expressions/query')

    test("select with single argument returns scalar", function () {
        var q = query().select('p1')
        expect(q.type).to.equal('scalar')
        expect(q.evaluate({ p1: 1 })).to.equal(1)
    })

    test("select with multiple arguments returns object", function () {
        var q = query().select('p1', 'p2')
        expect(q.type).to.equal('object')
        expect(q.evaluate({ p1: 1, p2: 2, p3: 3 })).to.deep.equal({ p1: 1, p2: 2 })
    })

    test("select handles keyPaths", function () {
        var q = query().select('p1.p2')
        expect(q.evaluate({ p1: { p2: 2 } })).to.equal(2)
    })
})
