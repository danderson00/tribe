module.exports = {
    template: '<div class="__overlay" data-bind="pane: pane"></div>',
    style: '.__overlay {display: none;overflow: hidden;position: fixed;top: 0;bottom: 0;left: 0;right: 0;background: white}',
    model: function (pane) {
        var data = pane.data || {};
        var element;

        this.pane = data.pane;

        pane.node.nodeForPath = function() {
            return pane.node.parent || pane.node;
        };

        this.renderComplete = function () {
            element = $(pane.element).find('.__overlay').show();
            T.transition(element, data.transition || 'slideDown')['in']();

            pane.node.children[0].pane.remove = close;
        };

        function close() {
            T.transition(element, data.transition || 'slideDown', true).out();
        }
    }
};
