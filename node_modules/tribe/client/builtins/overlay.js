module.exports = {
    template: '<div class="__overlay" data-bind="pane: pane"></div>',
    style: '.__overlay {display: none;overflow: hidden;z-index: 100;padding-top: 0 !important;}',
    model: function (pane) {
        var data = pane.data || {};
        var element;

        this.pane = data.pane;

        pane.node.nodeForPath = function() {
            return pane.node.parent || pane.node;
        };

        this.renderComplete = function () {
            element = $(pane.element).find('.__overlay').show();
            T.transition(element, data.transition || 'slideDown')['in']();

            pane.node.children[0].pane.remove = close;
        };

        function close() {
            T.transition(element, data.transition || 'slideDown', true).out();
        }
    }
};
