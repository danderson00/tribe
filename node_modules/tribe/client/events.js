var uuid = require('node-uuid')

T.options.events.insertAfter('createModel', 'extendModel')

T.Events.extendModel = function (pane, context) {
    var model = pane.model

    model.uuid = model.uuid || uuid.v4

    model.overlay = model.overlay || function (paneOptions) {
        return function () {
            T.appendNode($('body'), { path: '__overlay', data: paneOptions }, pane.node)
        }
    }
}
