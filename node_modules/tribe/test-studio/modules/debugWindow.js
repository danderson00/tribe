var debugWindow;

module.exports = {
    open: function () {
        var deferred = $.Deferred();

        if (!debugWindow || debugWindow.closed) {
            //http://127.0.0.1:8081/debug?ws=127.0.0.1:8081&port=5858
            var inspectorHost = window.location.hostname + ':' + module.exports.inspectorPort;
            debugWindow = window.open('http://' + inspectorHost + '/debug?ws=' + inspectorHost + '&port=' + module.exports.debugPort, 'debugger');
            setTimeout(deferred.resolve, 1000);
        } else
            deferred.resolve();

        debugWindow.focus();
        return deferred;

    },
    debugPort: 5859,
    inspectorPort: 8080
};
