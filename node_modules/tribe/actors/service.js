var eventStore = require('tribe/eventStore'),
    actors = require('tribe/actors');

module.exports = function (options) {
    var actor = actors.actors[options.name];
    if(actor && actor.definition.messageFilter) {
        return eventStore.retrieve({
            indexName: actor.definition.messageFilter.options.property,
            indexValue: options.id
        }).then(function (envelopes) {
            return { envelopes: envelopes };
        });
    }
};