var eventStore = require('tribe/storage').entity('messages'),
    actors = require('tribe/actors');

module.exports = function (path, id) {
    var actor = actors.actors[path];
    if (actor && actor.definition.messageFilter) {
        return eventStore.retrieve({
            p: actor.definition.messageFilter.options.property,
            v: id
        }).then(function (envelopes) {
            return { envelopes: envelopes };
        });
    }
};