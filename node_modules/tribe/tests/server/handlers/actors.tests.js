suite('tribe.handlers.actors', function () {
    var api = require('tribe/handlers/actors');

    test("registering an actor extracts definition", function () {
        api.register('actorPath', function (actor) {
            actor.handles = {
                'topic1': function () { },
                'topic2': function () { }
            };
            actor.mapsMessagePropertyToId('property');
        });

        expect(api.actors['actorPath'].definition).to.deep.equal({
            path: 'actorPath',
            messageFilter: { name: 'property', options: { property: 'property', value: undefined } },
            topics: ['topic1', 'topic2']
        });

        expect(api.messageFilters()).to.deep.equal([{ name: 'property', options: { property: 'property', value: undefined } }]);
    });
});