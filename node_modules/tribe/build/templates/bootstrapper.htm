<!DOCTYPE html>
<html>
<head>
    <title><%= options.appName %></title>
    
    <% if(options.debug) { %>
    <script type="text/javascript" src="dependencies/jquery/jquery.js"></script>
    <script type="text/javascript" src="dependencies/knockout/knockout-latest.debug.js"></script>
    <script type="text/javascript" src="dependencies/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="dependencies/composite/Tribe.Composite.debug.js"></script>
    <% } else { %>
    <script type="text/javascript" src="dependencies/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="dependencies/knockout/knockout-latest.js"></script>
    <script type="text/javascript" src="dependencies/socket.io/socket.io.min.js"></script>
    <script type="text/javascript" src="dependencies/composite/Tribe.Composite.min.js"></script>
    <% } %>

    <% for(var list = _.pluck(context.dependencies, 'appPath').sort(), i = 0, l = list.length; i < l; i++) { %>
    <script type="text/javascript" src="<%= list[i] %>"></script>
    <% } %>

    <script type="text/javascript" src="app"></script>
    <link rel="stylesheet" type="text/css" href="css" />

    <% for(var i = 0, l = context.html.length; i < l; i++) { %>
    <script type="text/template" id="<%= utils.paths.markupIdentifierFor(context.html[i].resourcePath, 'template') %>">
    <%= context.html[i].content %>
    </script>
    <% } %>
    
    <script type="text/javascript">
        $(function () {
            T.run({ pubsub: require('tribe').pubsub });
        });
    </script>
</head>
    <body><div data-bind="pane: { path: '/layout', handlesNavigation: { transition: 'fade' } }"></div></body>
</html>