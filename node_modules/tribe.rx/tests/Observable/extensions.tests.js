var Rx = require('rx')
require('../../Observable/extensions')

suite('tribe.rx.Observable.extensions', function () {
    test("asScalar returns an observable that evalues to the last value presented", function () {
        var source = new Rx.Subject(),
            observable = source.asScalar()

        source.onNext(5)
        expect(observable()).to.equal(5)

        source.onNext('test')
        expect(observable()).to.equal('test')
    })

    test("asArray returns an observableArray that concatenates each value presented", function () {
        var source = new Rx.Subject(),
            observable = source.asArray()

        source.onNext(5)
        expect(observable()).to.deep.equal([5])

        source.onNext('test')
        expect(observable()).to.deep.equal([5, 'test'])
    })
})
