/*! The Tribe platform is licensed under the MIT license. See http://tribejs.com/ for more information. */
(function(n){if(typeof $=="undefined")throw"jQuery must be loaded before knockout.composite can initialise";if(typeof ko=="undefined")throw"knockout.js must be loaded before knockout.composite can initialise";n.T=n.T||{},n.T.Events={},n.T.Factories={},n.T.LoadHandlers={},n.T.LoadStrategies={},n.T.Transitions={},n.T.Types={},n.T.Utils={},$(function(){$("head").append('<style class="__tribe">.__rendering { position: fixed; top: -10000px; left: -10000px; }<\/style>')})})(window||this),T.defaultOptions=function(){return{synchronous:!1,handleExceptions:!0,basePath:"",loadStrategy:"adhoc",events:["loadResources","createPubSub","createModel","initialiseModel","renderPane","renderComplete","active","dispose"]}},T.options=T.defaultOptions();var level=4,levels={debug:4,info:3,warn:2,error:1,none:0};T.logger={setLevel:function(n){level=levels[n],level===undefined&&(level=4)},debug:function(n){level>=4&&console.log("DEBUG: "+n)},info:function(n){level>=3&&console.info("INFO: "+n)},warn:function(n){level>=2&&console.warn("WARN: "+n)},error:function(n,t){level>=1&&console.error("ERROR: "+n+"\n",T.logger.errorDetails(t))},errorDetails:function(n){return n?n.constructor===String?n:(n.stack||"")+(n.inner?"\n\n"+this.errorDetails(n.inner):"\n"):""},log:function(n){console.log(n)}},function(){function n(n){return{init:function(t,i){function f(t){t.which===n&&u(r.val())}var r=$(t),u=i();$.isFunction(u)&&r.keyup(f)}}}ko.bindingHandlers.cssClass={update:function(n,t){var i=t();i&&$(n).addClass(ko.utils.unwrapObservable(i))}},ko.bindingHandlers.enterPressed=n(13),ko.bindingHandlers.escapePressed=n(27)}(),function(n){n.each=function(n,t){return $.each(n||[],function(n,i){return t(i,n)})},n.map=function(t,i){var r=[];return n.each(t||[],function(n,t){r.push(i(n,t))}),r},n.filter=function(n,t){var i=[];return $.each(n||[],function(n,r){t(r,n)&&i.push(r)}),i},n.pluck=function(t,i){return n.map(t,function(n){return n&&n[i]})},n.reduce=function(t,i,r){return n.each(t,function(n,u){i=r(i,n,u,t)}),i}}(T.Utils),T.Utils.deparam=function(n,t){var r=decodeURIComponent,i={},u={"true":!0,"false":!1,"null":null};return $.each(n.replace(/\+/g," ").split("&"),function(n,f){var a=f.split("="),s=r(a[0]),e,l=i,c=0,o=s.split("]["),h=o.length-1;if(/\[/.test(o[0])&&/\]$/.test(o[h])?(o[h]=o[h].replace(/\]$/,""),o=o.shift().split("[").concat(o),h=o.length-1):h=0,a.length===2)if(e=r(a[1]),t&&(e=e&&!isNaN(e)?+e:e==="undefined"?undefined:u[e]!==undefined?u[e]:e),h)for(;c<=h;c++)s=o[c]===""?l.length:o[c],l=l[s]=c<h?l[s]||(o[c+1]&&isNaN(o[c+1])?{}:[]):e;else $.isArray(i[s])?i[s].push(e):i[s]=i[s]!==undefined?[i[s],e]:e;else s&&(i[s]=t?undefined:"")}),i},function(){function n(n,t,i){if(!n)throw"Can't embed property in falsy value";n["__"+t]=i}function t(n,t){return n&&n["__"+t]}T.Utils.embedState=function(t,i,r){n(t,"context",i),n(t,"node",r)},T.Utils.contextFor=function(n){return n&&T.Utils.extractContext(ko.contextFor($(n)[0]))},T.Utils.extractContext=function(n){return n&&t(n.$root,"context")},T.Utils.extractNode=function(n){return n&&t(n.$root,"node")}}(),function(){T.Utils.elementDestroyed=function(n){function r(i){i.target===n&&t()}function t(){$(n).off("destroyed",t),$(document).off("DOMNodeRemoved",r),i.resolve()}n.constructor===jQuery&&(n=n[0]);var i=$.Deferred();$(n).on("destroyed",t);$(document).on("DOMNodeRemoved",r);return i},T.Utils.raiseDocumentEvent=function(n,t){var i=$.Event(n);i.eventData=t,$(document).trigger(i)};var n={};T.Utils.handleDocumentEvent=function(t,i){function r(n){i(n.originalEvent||n)}$(document).on(t,r);n[i]=r},T.Utils.detachDocumentEvent=function(t,i){$(document).off(t,n[i]),delete n[i]}}(),T.Utils.tryCatch=function(n,t,i,r){if(i)try{n.apply(this,t||[])}catch(u){T.logger.error(r,u)}else n.apply(this,t||[])},function(){T.Utils.idGenerator=function(){return{next:function(){var n=0;return function(){return arguments[0]==0?(n=1,0):n++}}()}};var n=T.Utils.idGenerator();T.Utils.getUniqueId=function(){return n.next()}}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(n){"use strict";if(this==null)throw new TypeError;var t,i,u=Object(this),r=u.length>>>0;if(r===0||(t=0,arguments.length>1&&(t=Number(arguments[1]),t!=t?t=0:t!=0&&t!=Infinity&&t!=-Infinity&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r))return-1;for(i=t>=0?t:Math.max(r-Math.abs(t),0);i<r;i++)if(i in u&&u[i]===n)return i;return-1}),function(n){n.complete=function(t){function f(t,i){r.push(n.Deferred(function(t){n.when(i).done(function(){u=!0}).always(function(){t.resolve()})}))}var r=[],i=n.Deferred(),u=!1;return n.isArray(t)?n.each(t,f):f(0,t),n.when.apply(n,r).done(function(){u?i.resolve():i.reject()}),i}}(jQuery),function(){var n=$.cleanData;$.cleanData=function(t){for(var i=0,r;(r=t[i])!==undefined;i++)$(r).triggerHandler("destroyed");n(t)}}(),T.Utils.cleanElement=function(n){var t=$.cleanData;$.cleanData=undefined,ko.cleanNode(n),$.cleanData=t},T.Utils.arguments=function(n){var t={};return $.each(n,function(n,i){t[i.constructor]=i}),{byConstructor:function(n){return t(n)},object:t[Object],string:t[String],func:t[Function],array:t[Array],number:t[Number]}},T.Utils.removeItem=function(n,t){var i=$.inArray(t,n);i>-1&&n.splice(i,1)},T.Utils.inheritOptions=function(n,t,i){for(var r=0,u=i.length;r<u;r++)t[i[r]]=n[i[r]];return t},T.Utils.cloneData=function(n,t){var u,i,r;if(!n||typeof n!="object")return n;u={};for(i in n)r=n[i],n.hasOwnProperty(i)&&(!t||Array.prototype.indexOf.call(arguments,i)===-1)&&(!r||r.constructor!==Function||ko.isObservable(r))&&(u[i]=ko.utils.unwrapObservable(r));return u},T.Utils.normaliseBindings=function(n,t){var i=t();return i.value=n(),!ko.isObservable(i.value)&&$.isFunction(i.value)&&(i.value=i.value()),i},function(){var n=T.Utils;n.getPaneOptions=function(n,t){var i=n.constructor===String?{path:n}:n;return $.extend({},t,i)},n.bindPane=function(t,i,r,u){var f,e;return u=u||n.contextFor(i)||T.context(),f=new T.Types.Pane($.extend({element:$(i)[0]},r)),t.setPane(f),u.renderOperation.add(f),e=new T.Types.Pipeline(T.Events,u),e.execute(u.options.events,f),f},n.insertPaneAfter=function(t,i,r,u){var f=$("<div/>").insertAfter(i);return n.bindPane(t,f,r,u)}}(),function(){function n(t){function u(n){return n=f(n),n=e(n),o(n)}function f(n){var t=n.indexOf("://")>-1?n.indexOf("://")+3:0,i=n.substring(0,t),r=n.substring(t);return i+r.replace(/\/{2,}/g,"/")}function e(n){for(var t=/[^\/\.]+\/\.\.\//;n.match(t);)n=n.replace(t,"");return n}function o(n){var t=n.lastIndexOf("../");return t=t==-1?0:t+3,n.substring(0,t)+n.substring(t).replace(/\.\//g,"")}t=t?u(t.toString()):"";var r=t.lastIndexOf("/")+1,i=t.lastIndexOf(".");return{withoutFilename:function(){return n(t.substring(0,r))},filename:function(){return n(t.substring(r))},extension:function(){return i===-1?"":t.substring(i+1)},withoutExtension:function(){return n(i===-1?t:t.substring(0,i))},combine:function(i){return n((t?t+"/":"")+i.toString())},isAbsolute:function(){return t.charAt(0)==="/"||t.indexOf("://")>-1},makeAbsolute:function(){return n("/"+t)},makeRelative:function(){return n(t.charAt(0)==="/"?t.substring(1):t)},asMarkupIdentifier:function(){return this.withoutExtension().toString().replace(/\//g,"-").replace(/\./g,"")},setExtension:function(t){return n(this.withoutExtension()+"."+t)},toString:function(){return t.toString()}}}T.Path=n}(),function(){function n(n){return decodeURIComponent(n.replace(/\+/g," "))}function i(t){return function i(r,u){var e,o,s,h,f;return arguments.length===2?(r=r.split(t),i(n(r.shift()),n(r.join(t)),!0)):(r=r.replace(/^\s+|\s+$/g,""),u.constructor===String&&(u=u.replace(/^\s+|\s+$/g,""),isNaN(u)||(o=+u,u===o.toString(10)&&(u=o))),e=/(.*)\[([^\]]*)\]$/.exec(r),!e)?(f={},r&&(f[r]=u),f):(h=e[2],s=e[1],!h)?i(s,[u],!0):(f={},f[h]=u,i(s,f,!0))}}function t(n,t){return n?$.isArray(n)?n.concat(t):!$.isPlainObject(n)||!$.isPlainObject(t)?[n].concat(t):r(n,t):t}function r(n,i){for(var r in i)r&&i.hasOwnProperty(r)&&(n[r]=t(n[r],i[r]));return n}T.Utils.Querystring=T.Utils.Querystring||{},T.Utils.Querystring.parse=function(n,r,u){function f(){n.length>0&&n.charAt(0)==="?"&&(n=n.substring(1))}return f(),T.Utils.reduce(T.Utils.map(n.split(r||"&"),i(u||"=")),{},t)}}(),function(){function t(i,r,u,f){r=r||{},f=f||[];var s,h,e,c,l,o,a=r.seperator||"&",v=r.eqSymbol||"=",y=r.arrayKey!==!1;if(i===null||i===undefined||i.constructor===Function)return u?n(u)+v:"";if((i.constructor===Boolean||Object.prototype.toString.call(i)==="[object Boolean]")&&(i=+i),!isNaN(i)||i.constructor===String)return n(u)+v+n(i);if($.isArray(i)){for(o=[],u=y?u+"[]":u,e=0,c=i.length;e<c;e++)o.push(t(i[e],r,u,f));return o.join(a)}for(e=f.length-1;e>=0;--e)if(f[e]===i)throw new Error("T.Utils.Querystring.stringify: cyclical reference");f.push(i),o=[],s=u?u+"[":"",h=u?"]":"";for(e in i)i.hasOwnProperty(e)&&(l=s+e+h,o.push(t(i[e],r,l,f)));return(f.pop(),o=o.join(a),!o&&u)?u+"=":o}T.Utils.Querystring=T.Utils.Querystring||{};var n=encodeURIComponent;T.Utils.Querystring.stringify=function(n,i){return t(n,i)}}(),T.Types.History=function(n){function u(n){n.state!==null&&r(n)}var t=0,i,r;n.replaceState(t,window.title),i={raiseEvent:function(n){T.Utils.raiseDocumentEvent("browser.go",{count:n.state-t}),t=n.state},updateStack:function(n){t=n.state,r=i.raiseEvent}},r=i.raiseEvent,window.addEventListener&&window.addEventListener("popstate",u),this.navigate=function(i){i=i||{},n.pushState(++t,i.title,i.url)},this.go=function(t){n.go(t)},this.update=function(t){r=i.updateStack,n.go(t)},this.dispose=function(){window.removeEventListener("popstate",u)}},T.history=window.history.pushState?new T.Types.History(window.history):new T.Types.History({replaceState:function(){},pushState:function(){},go:function(){}}),T.Types.Loader=function(){var t=this,n={};this.get=function(t,i,r){var f,e,u;return n[t]!==undefined?n[t]:(f=T.Path(t).extension().toString(),e=T.LoadHandlers[f],e)?(u=e(t,i,r),n[t]=u,$.when(u).always(function(){n[t]=null}),u):(T.logger.warn("Resource of type "+f+" but no handler registered."),null)}},T.Types.Navigation=function(n,t){function u(n){f(n.eventData.count)}function f(n){var t=r+n;t<0&&(t=0),t>=i.length&&(t=i.length-1),t!=r&&e(i[t],n<0),r=t}function e(i,r){T.Utils.raiseDocumentEvent("navigating",{node:n,options:i,browserData:t.browserData}),n.transitionTo(i,t.transition,r)}function o(){i.splice(r+1,i.length)}function s(){t=t||{},t.constructor===String&&(t={transition:t}),t.browser===!0&&(t.browser=T.options.defaultUrlProvider)}function h(){var i=window.location.href.match(/\#.*/),r;i&&(i=i[0].substring(1)),r=t.browser&&t.browser.paneOptionsFrom(i),r&&(n.pane.path=r.path,n.pane.data=r.data)}function c(){return{path:n.pane.path,data:n.pane.data}}s(),h();var i=[c()],r=0;this.node=n,this.stack=i,this.navigate=function(n){t.browser&&T.history.navigate(t.browser&&t.browser.urlDataFrom(n)),o(),i.push(n),r++,e(n)},this.isAtStart=function(){return r===0},this.go=function(n){f(n),t.browser&&T.history.update(n)},t.browser&&T.Utils.handleDocumentEvent("browser.go",u),this.dispose=function(){T.Utils.detachDocumentEvent("browser.go",u)}},T.Types.Node=function(n,t){this.parent=n,this.children=[],this.root=n?n.root:this,this.id=T.Utils.getUniqueId(),n&&n.children.push(this),t&&this.setPane(t)},T.Types.Node.prototype.navigate=function(n,t){var i=T.Utils.getPaneOptions(n,{data:t});T.Path(i.path).isAbsolute()||(i.path=T.Path(this.nodeForPath().pane.path).withoutFilename().combine(i.path).toString()),this.findNavigation().navigate(i)},T.Types.Node.prototype.navigateBack=function(){this.findNavigation().go(-1)},T.Types.Node.prototype.findNavigation=function(){return this.defaultNavigation?this.defaultNavigation:this.navigation?this.navigation:this.parent?this.parent.findNavigation():(this.navigation=new T.Types.Navigation(this),this.navigation)},T.Types.Node.prototype.transitionTo=function(n,t,i){T.transition(this,t,i).to(n)},T.Types.Node.prototype.setPane=function(n){this.pane&&(this.pane.node=null),n.node=this,this.pane=n,this.skipPath=n.skipPath,n.handlesNavigation&&(this.navigation=new T.Types.Navigation(this,n.handlesNavigation),this.root.defaultNavigation=this.navigation),n.inheritPathFrom(this.parent)},T.Types.Node.prototype.nodeForPath=function(){return this.skipPath&&this.parent?this.parent.nodeForPath():this},T.Types.Node.prototype.dispose=function(){this.root.defaultNavigation===this.navigation&&(this.root.defaultNavigation=null),this.parent&&T.Utils.removeItem(this.parent.children,this),this.pane&&this.pane.dispose&&(delete this.pane.node,this.pane.dispose())},T.Types.Operation=function(){var t=this,n=[];this.promise=$.Deferred(),this.add=function(t){n.push(t)},this.complete=function(i){T.Utils.removeItem(n,i),n.length===0&&t.promise.resolve()}},T.Types.Pane=function(n){T.Utils.inheritOptions(n,this,["path","data","element","transition","reverseTransitionIn","handlesNavigation","pubsub","id","skipPath"]),this.is={rendered:$.Deferred(),disposed:$.Deferred()}},T.Types.Pane.prototype.navigate=function(n,t){this.node&&this.node.navigate(n,t)},T.Types.Pane.prototype.navigateBack=function(){this.node&&this.node.navigateBack()},T.Types.Pane.prototype.remove=function(){$(this.element).remove()},T.Types.Pane.prototype.dispose=function(){this.model&&this.model.dispose&&this.model.dispose(),this.node&&(delete this.node.pane,this.node.dispose()),this.element&&T.Utils.cleanElement(this.element)},T.Types.Pane.prototype.inheritPathFrom=function(n){n=n&&n.nodeForPath();var i=n&&n.pane,t=T.Path(this.path);this.path=t.isAbsolute()||!i?t.makeAbsolute().toString():T.Path(i.path).withoutFilename().combine(t).toString()},T.Types.Pane.prototype.find=function(n){return $(this.element).find(n)},T.Types.Pane.prototype.startRender=function(){$(this.element).addClass("__rendering")},T.Types.Pane.prototype.endRender=function(){$(this.element).removeClass("__rendering")},T.Types.Pane.prototype.toString=function(){return"{ path: '"+this.path+"' }"},T.Types.Pane.prototype.startActor=function(n){var t=T.context().actors[n];this.pubsub.startActor.apply(this.pubsub,[t.constructor].concat(Array.prototype.slice.call(arguments,1)))},T.Types.Pipeline=function(n,t){this.execute=function(i,r){function u(){function c(n){e.reject(n);var t=r?r.toString():"empty target";T.logger.error("An error occurred in the '"+o+"' event for "+t,n)}var o,h,s;if(f++,f>=i.length){e.resolve();return}if(o=i[f],h=n[o],!h){T.logger.warn("No event defined for "+o),u();return}if(s=h(r,t),s&&typeof s.then=="function")s.then(u,c);else try{u()}catch(l){c(l)}}var f=-1,e=$.Deferred();return u(),e}},T.Types.Resources=function(){},T.Types.Resources.prototype.register=function(n,t,i){this[n]={constructor:t,options:i||{}},T.logger.debug("Model loaded for "+n)},T.Types.Templates=function(){function n(n,t){var i=document.createElement("script");i.className="__tribe",i.setAttribute("type","text/template"),i.id=t,i.text=n,document.getElementsByTagName("head")[0].appendChild(i)}var t=this;this.store=function(t,i){var r=T.Path(i).asMarkupIdentifier().toString();n(t,"template-"+r)},this.loaded=function(n){return $("head script#template-"+T.Path(n).asMarkupIdentifier()).length>0},this.render=function(n,t){var i=T.Path(t).asMarkupIdentifier();$(n).empty().append($("head script#template-"+i).html())}},T.Events.active=function(n){return T.Utils.elementDestroyed(n.element)},T.Events.createModel=function(n,t){function u(t,i){return function(){n.navigate(t,i)}}var i=t.models[n.path],r=i&&i.constructor?new i.constructor(n):{pane:n,data:n.data,navigate:u};T.Utils.embedState(r,t,n.node),n.model=r},T.Events.createPubSub=function(n,t){t.pubsub&&(n.pubsub=t.pubsub.createLifetime?t.pubsub.createLifetime():t.pubsub)},T.Events.dispose=function(n){n.pubsub&&n.pubsub.end&&n.pubsub.end(),n.dispose(),n.is.disposed.resolve()},T.Events.initialiseModel=function(n){return n.model.initialise?n.model.initialise():null},T.Events.loadResources=function(n,t){var i=T.LoadStrategies[t.options.loadStrategy];if(!i)throw"Unknown resource load strategy";return i(n,t)},T.Events.renderComplete=function(n,t){function i(){n.model.renderComplete&&n.model.renderComplete(),n.is.rendered.resolve(),T.Utils.raiseDocumentEvent("renderComplete",n),t.renderOperation=new T.Types.Operation}$.when(T.transition(n,n.transition,n.reverseTransitionIn)["in"]()).done(i),n.endRender()},T.Events.renderPane=function(n,t){function r(){ko.applyBindingsToDescendants(n.model,n.element)}var i=t.renderOperation;return n.startRender(),t.templates.render(n.element,n.path),T.Utils.tryCatch(r,null,t.options.handleExceptions,"An error occurred applying the bindings for "+n.toString()),n.model.paneRendered&&n.model.paneRendered(),i.complete(n),i.promise},T.LoadHandlers.js=function(n,t,i){function r(r){T.scriptEnvironment={url:n,resourcePath:t,context:i},T.Utils.tryCatch($.globalEval,[u(r)],i.options.handleExceptions,"An error occurred executing script loaded from "+n+(t?" for resource "+t:"")),delete T.scriptEnvironment,T.logger.debug("Loaded script from "+n)}function u(t){return t+"\n//@ sourceURL=tribe://Application/"+n.replace(/ /g,"_")}return $.ajax({url:n,dataType:"text",async:!i.options.synchronous,cache:!1,success:r})},T.LoadHandlers.css=function(n,t,i){function u(n){var i=document.getElementById("__tribeStyles");if(i||(i=document.createElement("style"),i.className="__tribe",i.id="__tribeStyles",document.getElementsByTagName("head")[0].appendChild(i)),r)try{i.appendChild(document.createTextNode(n))}catch(u){r=!1}if(!r)if(i.styleSheet)i.styleSheet.cssText+=n;else throw new Error("Unable to append stylesheet for "+t+" to document.");}var r=!0;return $.ajax({url:n,dataType:"text",async:!i.options.synchronous,cache:!1,success:u})},T.LoadHandlers.htm=function(n,t,i){function r(n){i.templates.store(n,t)}return $.ajax({url:n,dataType:"html",async:!i.options.synchronous,cache:!1,success:r})},T.LoadHandlers.html=T.LoadHandlers.htm,T.LoadStrategies.adhoc=function(n,t){var i,r;return t.loadedPanes[n.path]!==undefined?t.loadedPanes[n.path]:(i=T.Path(t.options.basePath).combine(T.Path(n.path).makeRelative()),t.templates.loaded(n.path)||t.models[n.path])?null:(r=$.complete([t.loader.get(i.setExtension("js").toString(),n.path,t),t.loader.get(i.setExtension("htm").toString(),n.path,t),t.loader.get(i.setExtension("css").toString(),n.path,t)]),t.loadedPanes[n.path]=r,$.when(r).fail(function(){T.logger.error("Unable to load resources for '"+n.path+"'.")}).always(function(){t.loadedPanes[n.path]=null}),r)},T.LoadStrategies.preloaded=function(n,t){return!t.models[n.path]&&!t.templates.loaded(n.path)?(T.logger.error("No resources loaded for '"+n.path+"'."),$.Deferred().reject()):null},T.transition=function(n,t,i){function o(){var n=$(r);T.transition.mode==="fixed"?n.css({position:"fixed",width:n.width(),left:n.offset().left,top:n.offset().top}):n.css({position:"absolute",width:n.width(),left:n.position().left,top:n.position().top})}function s(){if(!n)throw"No target passed to T.transition";n.constructor===T.Types.Node?(f=n,e=f.pane,r=e.element):n.constructor===T.Types.Pane?(e=n,f=e.node,r=e.element):r=n}var f,e,r,u;return s(),t=t||e&&e.transition||f&&f.transition,u=T.Transitions[t],i&&u&&u.reverse&&(u=T.Transitions[u.reverse]),{"in":function(){return $(r).show(),u&&u["in"](r)},out:function(n){function i(){n===!1?$(r).hide().attr("style",""):$(r).remove()}o();var t=u&&u.out(r);return $.when(t).done(i),t},to:function(n,u){var e=T.context();return f?T.Utils.insertPaneAfter(f,r,T.Utils.getPaneOptions(n,{transition:t,reverseTransitionIn:i}),e):T.insertNodeAfter(r,T.Utils.getPaneOptions(n,{transition:t,reverseTransitionIn:i}),null,e),this.out(u),e.renderOperation.promise}}},function(){function n(n,r){function u(n){setTimeout(function(){$(n).addClass("trigger")},30)}function f(i,r,u){return function(){$(i).unbind(t).removeClass(n+" in out prepare trigger"),u&&$(i).hide(),r.resolve()}}T.Transitions[n]={"in":function(r){if(!i)return null;var e=$.Deferred();return $(r).bind(t,f(r,e)).addClass("prepare in "+n),u(r),e},out:function(r){if(!i)return null;var e=$.Deferred();$(r).addClass("prepare out "+n).on(t,f(r,e,!0));return u(r),e},reverse:r||n}}function r(){var f=document.body||document.documentElement,i=f.style,n="transition",r=["Moz","Webkit","Khtml","O","ms"],t,u;if(typeof i[n]=="string")return!0;for(n=n.charAt(0).toUpperCase()+n.substr(1),t=0,u=r.length;t<u;t++)if(typeof i[r[t]+n]=="string")return!0;return!1}var i=r(),t;n("fade"),n("slideLeft","slideRight"),n("slideRight","slideLeft"),n("slideUp","slideDown"),n("slideDown","slideUp"),t="webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd"}(),window.__appendStyle=function(n){var t=document.getElementById("__tribeStyles");t||(t=document.createElement("style"),t.className="__tribe",t.id="__tribeStyles",document.getElementsByTagName("head")[0].appendChild(t)),t.styleSheet?t.styleSheet.cssText+=n:t.appendChild(document.createTextNode(n))},window.__appendStyle(".trigger{-webkit-transition:all 250ms ease-in-out;transition:all 250ms ease-in-out}.fade.in.prepare{opacity:0}.fade.in.trigger{opacity:1}.fade.out.prepare{opacity:1}.fade.out.trigger{opacity:0}.slideRight.in.prepare{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slideRight.in.trigger{-webkit-transform:translateX(0);transform:translateX(0)}.slideRight.out.trigger{-webkit-transform:translateX(100%);transform:translateX(100%)}.slideLeft.in.prepare{-webkit-transform:translateX(100%);transform:translateX(100%)}.slideLeft.in.trigger{-webkit-transform:translateX(0);transform:translateX(0)}.slideLeft.out.trigger{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slideDown.in.prepare{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.slideDown.in.trigger{-webkit-transform:translateY(0);transform:translateY(0)}.slideDown.out.trigger{-webkit-transform:translateY(100%);transform:translateY(100%)}.slideUp.in.prepare{-webkit-transform:translateY(100%);transform:translateY(100%)}.slideUp.in.trigger{-webkit-transform:translateY(0);transform:translateY(0)}.slideUp.out.trigger{-webkit-transform:translateY(-100%);transform:translateY(-100%)}"),function(){function n(n,t){var i=T.scriptEnvironment||{},r=i.context||T.context(),u=t.string||i.resourcePath,f=t.func,e=t.object;r[n].register(u,f,e)}T.registerModel=function(){n("models",T.Utils.arguments(arguments))},T.registerActor=function(){n("actors",T.Utils.arguments(arguments))},T.run=function(n){T.options=$.extend(T.options,n),T.options.pubsub=T.options.pubsub||new Tribe.PubSub({sync:T.options.synchronous,handleExceptions:T.options.handleExceptions}),ko.applyBindings()}}(),function(){var n;T.context=function(t){n=n||{models:new T.Types.Resources,actors:new T.Types.Resources,loader:new T.Types.Loader,options:T.options,templates:new T.Types.Templates,loadedPanes:{}};var i={renderOperation:new T.Types.Operation,pubsub:T.options.pubsub};return $.extend({},n,i,t)}}(),T.options.defaultUrlProvider={urlDataFrom:function(n){return n&&{url:"#"+$.param(n)}},paneOptionsFrom:function(n){return n&&T.Utils.deparam(n.substr(1))}},function(){var n=T.Utils;T.createNode=function(t,i,r,u){r=r||T.nodeFor(t),u=u||n.contextFor(t)||T.context();var f=new T.Types.Node(r);return n.bindPane(f,t,i,u),f},T.appendNode=function(n,t,i,r){var u=$("<div/>").appendTo(n);return T.createNode(u,t,i,r)},T.insertNodeAfter=function(n,t,i,r){var u=$("<div/>").insertAfter(n);return T.createNode(u,t,i||T.nodeFor(n),r)},T.nodeFor=function(n){return n&&T.Utils.extractNode(ko.contextFor($(n)[0]))}}(),function(){function n(n){return function(){return n}}function t(n){var i=[],t;for(t in n)n.hasOwnProperty(t)&&i.push($.extend({$key:t},n[t]));return i}ko.bindingHandlers.foreachProperty={init:function(i,r,u,f,e){return ko.bindingHandlers.foreach.init(i,n(t(r())),u,f,e)},update:function(i,r,u,f,e){return ko.bindingHandlers.foreach.update(i,n(t(r())),u,f,e)}}}(),ko.bindingHandlers.navigate={init:function(n,t,i,r){function o(){return function(){f.navigate(u.value,T.Utils.cloneData(u.data))}}var f=T.nodeFor(n),u,e;f&&(u=T.Utils.normaliseBindings(t,i),e=ko.bindingHandlers.validatedClick||ko.bindingHandlers.click,e.init(n,o,i,r))}},ko.bindingHandlers.navigateBack={init:function(n,t,i,r){function f(){return function(){u.navigateBack()}}var u=T.nodeFor(n);u&&ko.bindingHandlers.click.init(n,f,i,r)}},function(){function n(n,t,i,r,u){function f(){return T.Utils.getPaneOptions(ko.utils.unwrapObservable(t()),i())}return T.createNode(n,f(),T.Utils.extractNode(u),T.Utils.extractContext(u)),{controlsDescendantBindings:!0}}ko.bindingHandlers.pane={init:n}}(),ko.bindingHandlers.publish={init:function(n,t,i,r,u){function s(){return function(){e.publish(f.value,T.Utils.cloneData(f.data))}}var e=T.nodeFor(n).pane.pubsub,f,o;e&&(f=T.Utils.normaliseBindings(t,i),o=ko.bindingHandlers.validatedClick||ko.bindingHandlers.click,o.init(n,s,i,r,u))}};