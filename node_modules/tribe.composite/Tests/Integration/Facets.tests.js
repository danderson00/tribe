module('Integration.Facets', {
    setup: Test.Integration.createTestElement,
    teardown: Test.Integration.teardown
});

test("facets can be registered by name", function () {
    var func = function () { };
    T.registerFacet('test1', func);

    equal(Test.Integration.context.facets.test1.constructor, func);
});

test("facets can be registered using scriptEnvironment", function () {
    var func = function () { };
    T.scriptEnvironment = { resourcePath: 'test2' };
    T.registerFacet(func);
    delete T.scriptEnvironment;
    
    equal(Test.Integration.context.facets.test2.constructor, func);
});