TC.scriptEnvironment={resourcePath:"/chat"},TC.registerModel(function(t){var e=this;TMH.initialise(t.pubsub),TMH.joinChannel("chat",{serverEvents:["chat.*"]}),this.message=ko.observable(),this.messages=ko.observableArray(),this.send=function(){t.pubsub.publish("chat.message",e.message())},t.pubsub.subscribe("chat.message",function(t){e.messages.push(t)})}),window.__appendTemplate=function(t,e){var n=document.createElement("script");n.className="__tribe",n.setAttribute("type","text/template"),n.id=e,n.text=t,document.getElementsByTagName("head")[0].appendChild(n)},window.__appendTemplate('<div class="chat">\n    <input data-bind="value: message" /><br />\n    <button data-bind="click: send">Send Message</button>\n    <ul data-bind="foreach: messages">\n        <li data-bind="text: $data"></li>\n    </ul>\n</div>',"template--chat"),window.__appendTemplate("<h1>Application Name</h1>","template--header"),window.__appendTemplate("<p>\n    Welcome to my web application!\n</p>","template--home"),window.__appendTemplate("<div data-bind=\"pane: 'header'\"></div>\n<div data-bind=\"pane: 'home', handlesNavigation: 'fade'\"></div>\n<div data-bind=\"pane: 'chat'\"></div>","template--layout"),window.__appendStyle=function(t){var e=document.getElementById("__tribeStyles");e||(e=document.createElement("style"),e.className="__tribe",e.id="__tribeStyles",document.getElementsByTagName("head")[0].appendChild(e)),e.styleSheet?e.styleSheet.cssText+=t:e.appendChild(document.createTextNode(t))},window.__appendStyle(".chat{position:fixed;top:70px;right:10px;padding:10px;height:300px;width:160px;border:1px solid black}"),window.__appendStyle(""),window.__appendStyle("body{font-family:'Segoe UI','Trebuchet MS',Arial,Helvetica,Verdana,sans-serif}");